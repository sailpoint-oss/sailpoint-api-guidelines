<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="keywords" content="SailPoint, Guidelines, RESTful, API, Events, Schema">
<meta name="copyright" content="CC-BY-SA 4.0">
<title>SailPoint RESTful API Guidelines</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.stretch { width: 100%; }

p.lead { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #6f6f6f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #2ba6cb; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #2795b6; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #222222; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #6f6f6f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; color: #7f0a0c; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

:not(pre):not([class^=L]) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; line-height: inherit; word-wrap: break-word; }

:not(pre) > code.nobreak { word-wrap: normal; }
:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.4; color: black; font-family: monospace, serif; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #555555; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: #222222; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #555555; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #6f6f6f; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #6f6f6f; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #6f6f6f; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f2; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #222222; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #151515; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock.fit-content > caption.title { white-space: nowrap; width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: 1.21875em; line-height: 1.6; color: black; }

table.tableblock #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #555555; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #6f6f6f; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid #cccccc; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; overflow-x: auto; padding: 0.8em 0.8em 0.65em 0.8em; font-size: 0.8125em; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }
.literalblock pre.nowrap, .literalblock pre.nowrap pre, .listingblock pre.nowrap, .listingblock pre.nowrap pre { white-space: pre; word-wrap: normal; }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.8em 0.8em 0.65em 0.8em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

pre.prettyprint .linenums { color: #999; line-height: 1.4; margin-left: 2em; }

pre.prettyprint .linenums li { background: none; list-style-type: inherit; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.4; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock p { color: #6f6f6f; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #6f6f6f; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.75em; margin-right: 0.5ex; text-align: right; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #6f6f6f; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #555555; }

.quoteblock.abstract blockquote:before, .quoteblock.excerpt blockquote:before, .quoteblock .quoteblock blockquote:before { display: none; }
.quoteblock.abstract blockquote, .quoteblock.abstract p, .quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { line-height: 1.6; word-spacing: 0; }
.quoteblock.abstract { margin: 0 1em 1.25em 1em; display: block; }
.quoteblock.abstract > .title { margin: 0 0 0.375em 0; font-size: 1.15em; text-align: center; }
.quoteblock.excerpt, .quoteblock .quoteblock { margin: 0 0 1.25em 0; padding: 0 0 0.25em 1em; border-left: 0.25em solid #dddddd; }
.quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { color: inherit; font-size: 1.0625rem; }
.quoteblock.excerpt .attribution, .quoteblock .quoteblock .attribution { color: inherit; text-align: left; margin-right: 0; }

table.tableblock { max-width: 100%; border-collapse: separate; }

p.tableblock:last-child { margin-bottom: 0; }

td.tableblock > .content { margin-bottom: -1.25em; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot, table.frame-ends { border-width: 1px 0; }

table.stripes-all tr, table.stripes-odd tr:nth-of-type(odd) { background: #f9f9f9; }

table.stripes-none tr, table.stripes-odd tr:nth-of-type(even) { background: none; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.625em -1.25em; }

ul.inline > li { margin-left: 1.25em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist td:not([class]):first-child { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist td:not([class]):first-child img { max-width: none; }
.colist td:not([class]):last-child { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #207c98; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

.literalblock pre, .listingblock pre { background: #eeeeee; }

@media screen and (max-width: 768px) { #toc.toc2 { display: none; } }
object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.stretch { width: 100%; }

p.lead { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #6f6f6f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #2ba6cb; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #2795b6; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #404040; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #6f6f6f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; color: #7f0a0c; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

:not(pre):not([class^=L]) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 0; line-height: inherit; word-wrap: break-word; }

:not(pre) > code.nobreak { word-wrap: normal; }
:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.4; color: black; font-family: monospace, serif; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #555555; }

kbd { font-family: Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: #222222; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #555555; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #6f6f6f; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #6f6f6f; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #6f6f6f; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f2; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.44; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #404040; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #333333; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock.fit-content > caption.title { white-space: nowrap; width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: 1.21875em; line-height: 1.6; color: black; }

table.tableblock #preamble > .sectionbody > [class="paragraph"]:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #555555; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #6f6f6f; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid #cccccc; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; overflow-x: auto; padding: 0.8em 0.8em 0.65em 0.8em; font-size: 0.8125em; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }
.literalblock pre.nowrap, .literalblock pre.nowrap pre, .listingblock pre.nowrap, .listingblock pre.nowrap pre { white-space: pre; word-wrap: normal; }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.8em 0.8em 0.65em 0.8em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

pre.prettyprint .linenums { color: #999; line-height: 1.4; margin-left: 2em; }

pre.prettyprint .linenums li { background: none; list-style-type: inherit; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.4; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock p { color: #6f6f6f; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #6f6f6f; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.75em; margin-right: 0.5ex; text-align: right; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #6f6f6f; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #555555; }

.quoteblock.abstract blockquote:before, .quoteblock.excerpt blockquote:before, .quoteblock .quoteblock blockquote:before { display: none; }
.quoteblock.abstract blockquote, .quoteblock.abstract p, .quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { line-height: 1.6; word-spacing: 0; }
.quoteblock.abstract { margin: 0 1em 1.25em 1em; display: block; }
.quoteblock.abstract > .title { margin: 0 0 0.375em 0; font-size: 1.15em; text-align: center; }
.quoteblock.excerpt, .quoteblock .quoteblock { margin: 0 0 1.25em 0; padding: 0 0 0.25em 1em; border-left: 0.25em solid #dddddd; }
.quoteblock.excerpt blockquote, .quoteblock.excerpt p, .quoteblock .quoteblock blockquote, .quoteblock .quoteblock p { color: inherit; font-size: 1.0625rem; }
.quoteblock.excerpt .attribution, .quoteblock .quoteblock .attribution { color: inherit; text-align: left; margin-right: 0; }

table.tableblock { max-width: 100%; border-collapse: separate; }

p.tableblock:last-child { margin-bottom: 0; }

td.tableblock > .content { margin-bottom: -1.25em; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot, table.frame-ends { border-width: 1px 0; }

table.stripes-all tr, table.stripes-odd tr:nth-of-type(odd) { background: #f9f9f9; }

table.stripes-none tr, table.stripes-odd tr:nth-of-type(even) { background: none; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.625em -1.25em; }

ul.inline > li { margin-left: 1.25em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist td:not([class]):first-child { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist td:not([class]):first-child img { max-width: none; }
.colist td:not([class]):last-child { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #207c98; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

.must-keyword { color: red; }

.should-keyword { color: darkgoldenrod; }

.may-keyword { color: green; }

.status-code, .status-code:link, .status-code:visited, .status-code:hover, .status-code:active { color: black; font-weight: bold; }

.sect1 { max-width: 45em; }

#content #toc { max-width: 45em; }

code { font-size: .85em !important; }

p > code { background-color: #f0f0f0; padding: .1em .4em .1em .4em !important; font-size: .9em !important; color: inherit; }

a > code { background-color: #f0f0f0; padding: .1em .4em .1em .4em !important; font-size: .9em !important; color: black; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { padding: .5em !important; }

#toc a { color: #364149; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_sailpoint_restful_api_guidelines"><a class="link" href="#_sailpoint_restful_api_guidelines">SailPoint RESTful API Guidelines</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/sailpoint-oss/sailpoint-api-guidelines">Github Repository</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/api-guild.png" alt="API Guild Logo">
</div>
</div>
<div class="paragraph">
<p>Other formats: <a href="sailpoint-guidelines.pdf">PDF</a>, <a href="sailpoint-guidelines.epub">EPUB3</a><br></p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_sailpoint_restful_api_guidelines">SailPoint RESTful API Guidelines</a></li>
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#conventions-used-in-these-guidelines">Conventions used in these guidelines</a></li>
<li><a href="#sailpoint-specific-information">SailPoint specific information</a></li>
</ul>
</li>
<li><a href="#principles">2. Principles</a>
<ul class="sectlevel2">
<li><a href="#api-design-principles">API design principles</a></li>
<li><a href="#api-as-a-product">API as a product</a></li>
<li><a href="#api-first">API first</a></li>
</ul>
</li>
<li><a href="#general-guidelines">3. General guidelines</a>
<ul class="sectlevel2">
<li><a href="#301"><span class="must-keyword"><strong>MUST</strong></span> follow SailPoint API Guidelines</a></li>
<li><a href="#100"><span class="should-keyword"><strong>SHOULD</strong></span> follow API first principle</a></li>
<li><a href="#101"><span class="must-keyword"><strong>MUST</strong></span> provide API specification using OpenAPI</a></li>
<li><a href="#302"><span class="must-keyword"><strong>MUST</strong></span> provide detailed API description</a></li>
<li><a href="#102"><span class="should-keyword"><strong>SHOULD</strong></span> provide API user manual</a></li>
<li><a href="#303"><span class="must-keyword"><strong>MUST</strong></span> describe every parameter and property <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#304"><span class="must-keyword"><strong>MUST</strong></span> provide an example for every parameter and property <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#305"><span class="should-keyword"><strong>SHOULD</strong></span> keep operation summaries at five or less words <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#400"><span class="must-keyword"><strong>MUST</strong></span> provide a valid operationId in camelCase for each operation <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#402"><span class="must-keyword"><strong>MUST</strong></span> provide a valid tag for each operation <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#103"><span class="must-keyword"><strong>MUST</strong></span> write APIs using U.S. English</a></li>
</ul>
</li>
<li><a href="#meta-information">4. Meta information</a>
<ul class="sectlevel2">
<li><a href="#218"><span class="must-keyword"><strong>MUST</strong></span> contain API meta information</a></li>
<li><a href="#116"><span class="must-keyword"><strong>MUST</strong></span> use semantic versioning</a></li>
<li><a href="#219"><span class="must-keyword"><strong>MUST</strong></span> provide API audience</a></li>
</ul>
</li>
<li><a href="#security">5. Security</a>
<ul class="sectlevel2">
<li><a href="#104"><span class="must-keyword"><strong>MUST</strong></span> secure endpoints with OAuth 2.0 <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#105"><span class="must-keyword"><strong>MUST</strong></span> define and assign permissions (scopes) <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#306"><span class="must-keyword"><strong>MUST</strong></span> Document necessary license add-on to use an API collection</a></li>
<li><a href="#225"><span class="must-keyword"><strong>MUST</strong></span> follow naming convention for permissions (scopes)</a></li>
</ul>
</li>
<li><a href="#compatibility">6. Compatibility</a>
<ul class="sectlevel2">
<li><a href="#106"><span class="must-keyword"><strong>MUST</strong></span> not break backward compatibility</a></li>
<li><a href="#107"><span class="should-keyword"><strong>SHOULD</strong></span> prefer compatible extensions</a></li>
<li><a href="#108"><span class="must-keyword"><strong>MUST</strong></span> prepare clients to accept compatible API extensions</a></li>
<li><a href="#109"><span class="should-keyword"><strong>SHOULD</strong></span> design APIs conservatively</a></li>
<li><a href="#110"><span class="must-keyword"><strong>MUST</strong></span> always return JSON objects as top-level data structures</a></li>
<li><a href="#111"><span class="must-keyword"><strong>MUST</strong></span> treat OpenAPI specification as open for extension by default</a></li>
<li><a href="#113"><span class="should-keyword"><strong>SHOULD</strong></span> avoid versioning</a></li>
<li><a href="#115"><span class="must-keyword"><strong>MUST</strong></span> use URI versioning</a></li>
<li><a href="#307"><span class="must-keyword"><strong>MUST</strong></span> follow versioned API requirements</a></li>
<li><a href="#308"><span class="must-keyword"><strong>MUST</strong></span> follow beta API requirements</a></li>
</ul>
</li>
<li><a href="#deprecation">7. Deprecation</a>
<ul class="sectlevel2">
<li><a href="#309"><span class="should-keyword"><strong>SHOULD</strong></span> Confer with clients on accepted deprecation time-span</a></li>
<li><a href="#187"><span class="must-keyword"><strong>MUST</strong></span> reflect deprecation in API specifications</a></li>
<li><a href="#188"><span class="must-keyword"><strong>MUST</strong></span> monitor usage of deprecated API scheduled for sunset</a></li>
<li><a href="#189"><span class="should-keyword"><strong>SHOULD</strong></span> add <code>Deprecation</code> and <code>Sunset</code> header to responses <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#190"><span class="should-keyword"><strong>SHOULD</strong></span> add monitoring for <code>Deprecation</code> and <code>Sunset</code> header</a></li>
<li><a href="#191"><span class="must-keyword"><strong>MUST</strong></span> not start using deprecated APIs</a></li>
</ul>
</li>
<li><a href="#json-guidelines">8. JSON guidelines</a>
<ul class="sectlevel2">
<li><a href="#120"><span class="should-keyword"><strong>SHOULD</strong></span> pluralize array names</a></li>
<li><a href="#118"><span class="must-keyword"><strong>MUST</strong></span> property names must be ASCII camelCase</a></li>
<li><a href="#240"><span class="must-keyword"><strong>MUST</strong></span> declare enum values using UPPER_SNAKE_CASE string</a></li>
<li><a href="#216"><span class="should-keyword"><strong>SHOULD</strong></span> define maps using <code>additionalProperties</code></a></li>
<li><a href="#122"><span class="must-keyword"><strong>MUST</strong></span> not use <code>null</code> for boolean properties</a></li>
<li><a href="#310"><span class="must-keyword"><strong>MUST</strong></span> define a default value for boolean properties <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#311"><span class="should-keyword"><strong>SHOULD</strong></span> avoid using qualifying verbs</a></li>
<li><a href="#312"><span class="should-keyword"><strong>SHOULD</strong></span> use positive semantics for boolean fields</a></li>
<li><a href="#313"><span class="must-keyword"><strong>MUST</strong></span> use a field name that suggests the value type when referencing an object</a></li>
<li><a href="#314"><span class="should-keyword"><strong>SHOULD</strong></span> name references to foreign objects as &lt;objectName&gt;Ref</a></li>
<li><a href="#315"><span class="should-keyword"><strong>SHOULD</strong></span> avoid using nested objects</a></li>
<li><a href="#316"><span class="must-keyword"><strong>MUST</strong></span> define a default for optional values</a></li>
<li><a href="#317"><span class="must-keyword"><strong>MUST</strong></span> define the “required” attribute for request/response objects and parameters <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#123"><span class="must-keyword"><strong>MUST</strong></span> use same semantics for <code>null</code> and absent properties</a></li>
<li><a href="#318"><span class="must-keyword"><strong>MUST</strong></span> use the “nullable” attribute for properties that can be null</a></li>
<li><a href="#124"><span class="must-keyword"><strong>MUST</strong></span> not use <code>null</code> for empty arrays</a></li>
<li><a href="#126"><span class="should-keyword"><strong>SHOULD</strong></span> define dates properties compliant with RFC 3339</a></li>
<li><a href="#127"><span class="should-keyword"><strong>SHOULD</strong></span> define time durations and intervals properties conform to ISO 8601</a></li>
</ul>
</li>
<li><a href="#data-formats">9. Data formats</a>
<ul class="sectlevel2">
<li><a href="#167"><span class="must-keyword"><strong>MUST</strong></span> use JSON as payload data interchange format</a></li>
<li><a href="#168"><span class="may-keyword"><strong>MAY</strong></span> pass non-JSON media types using data specific standard formats</a></li>
<li><a href="#172"><span class="should-keyword"><strong>SHOULD</strong></span> use standard media types</a></li>
<li><a href="#238"><span class="must-keyword"><strong>MUST</strong></span> use standardized property formats</a></li>
<li><a href="#169"><span class="must-keyword"><strong>MUST</strong></span> use standard date and time formats</a></li>
<li><a href="#170"><span class="must-keyword"><strong>MUST</strong></span> use standards for country, language and currency codes</a></li>
<li><a href="#171"><span class="must-keyword"><strong>MUST</strong></span> define format for number and integer types <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#324"><span class="must-keyword"><strong>MUST</strong></span> use proper description format for the <code>filters</code> query param</a></li>
<li><a href="#325"><span class="must-keyword"><strong>MUST</strong></span> use proper description format for the <code>sorters</code> query param</a></li>
</ul>
</li>
<li><a href="#common-data-types">10. Common data types</a>
<ul class="sectlevel2">
<li><a href="#173"><span class="must-keyword"><strong>MUST</strong></span> use the common money object</a></li>
<li><a href="#174"><span class="must-keyword"><strong>MUST</strong></span> use common field names and semantics</a></li>
</ul>
</li>
<li><a href="#api-naming">11. API naming</a>
<ul class="sectlevel2">
<li><a href="#223"><span class="must-keyword"><strong>MUST</strong></span>/<span class="should-keyword"><strong>SHOULD</strong></span> use functional naming schema</a></li>
<li><a href="#129"><span class="must-keyword"><strong>MUST</strong></span> use lowercase separate words with hyphens for path segments</a></li>
<li><a href="#130"><span class="must-keyword"><strong>MUST</strong></span> camelCase for query parameters</a></li>
<li><a href="#134"><span class="must-keyword"><strong>MUST</strong></span> pluralize resource names</a></li>
<li><a href="#135"><span class="must-keyword"><strong>MUST</strong></span> not use <code>/api</code> as base path</a></li>
<li><a href="#136"><span class="must-keyword"><strong>MUST</strong></span> use normalized paths without empty path segments and trailing slashes</a></li>
<li><a href="#137"><span class="must-keyword"><strong>MUST</strong></span> stick to conventional query parameters</a></li>
<li><a href="#319"><span class="must-keyword"><strong>MUST</strong></span> Customer org name must never appear in the path of public APIs</a></li>
</ul>
</li>
<li><a href="#resources">12. Resources</a>
<ul class="sectlevel2">
<li><a href="#138"><span class="should-keyword"><strong>SHOULD</strong></span> avoid actions — think about resources</a></li>
<li><a href="#139"><span class="should-keyword"><strong>SHOULD</strong></span> model complete business processes</a></li>
<li><a href="#140"><span class="should-keyword"><strong>SHOULD</strong></span> define <em>useful</em> resources</a></li>
<li><a href="#141"><span class="should-keyword"><strong>SHOULD</strong></span> keep URLs verb-free</a></li>
<li><a href="#142"><span class="must-keyword"><strong>MUST</strong></span> use domain-specific resource names</a></li>
<li><a href="#228"><span class="must-keyword"><strong>MUST</strong></span> use URL-friendly resource identifiers: [a-zA-Z0-9:._\-/]*</a></li>
<li><a href="#143"><span class="must-keyword"><strong>MUST</strong></span> identify resources and sub-resources via path segments</a></li>
<li><a href="#145"><span class="should-keyword"><strong>SHOULD</strong></span> consider using (non-)nested URLs</a></li>
<li><a href="#320"><span class="must-keyword"><strong>MUST</strong></span> not use sequential, numerical IDs</a></li>
<li><a href="#146"><span class="should-keyword"><strong>SHOULD</strong></span> limit number of resource types</a></li>
<li><a href="#147"><span class="should-keyword"><strong>SHOULD</strong></span> limit number of sub-resource levels</a></li>
</ul>
</li>
<li><a href="#http-requests">13. HTTP requests and responses</a>
<ul class="sectlevel2">
<li><a href="#148"><span class="must-keyword"><strong>MUST</strong></span> use HTTP methods correctly</a></li>
<li><a href="#149"><span class="must-keyword"><strong>MUST</strong></span> fulfill common method properties</a></li>
<li><a href="#229"><span class="should-keyword"><strong>SHOULD</strong></span> consider to design <code>POST</code> and <code>PATCH</code> idempotent</a></li>
<li><a href="#231"><span class="may-keyword"><strong>MAY</strong></span> use secondary key for idempotent <code>POST</code> design</a></li>
<li><a href="#154"><span class="must-keyword"><strong>MUST</strong></span> define collection format of header and query parameters</a></li>
<li><a href="#236"><span class="should-keyword"><strong>SHOULD</strong></span> design simple query languages using query parameters</a></li>
<li><a href="#237"><span class="must-keyword"><strong>MUST</strong></span> design complex query languages using JSON</a></li>
<li><a href="#226"><span class="must-keyword"><strong>MUST</strong></span> document implicit filtering</a></li>
</ul>
</li>
<li><a href="#http-status-codes-and-errors">14. HTTP status codes and errors</a>
<ul class="sectlevel2">
<li><a href="#151"><span class="must-keyword"><strong>MUST</strong></span> specify success and error responses <span class="icon lime"><i class="fa fa-check-square"></i></span></a></li>
<li><a href="#150"><span class="must-keyword"><strong>MUST</strong></span> use standard HTTP status codes</a></li>
<li><a href="#220"><span class="must-keyword"><strong>MUST</strong></span> use most specific HTTP status codes</a></li>
<li><a href="#152"><span class="must-keyword"><strong>MUST</strong></span> use code 207 for batch or bulk requests</a></li>
<li><a href="#153"><span class="must-keyword"><strong>MUST</strong></span> use code 429 with headers for rate limits</a></li>
<li><a href="#176"><span class="must-keyword"><strong>MUST</strong></span> support problem JSON</a></li>
<li><a href="#177"><span class="must-keyword"><strong>MUST</strong></span> not expose stack traces</a></li>
</ul>
</li>
<li><a href="#performance">15. Performance</a>
<ul class="sectlevel2">
<li><a href="#157"><span class="should-keyword"><strong>SHOULD</strong></span> support partial responses via filtering</a></li>
<li><a href="#158"><span class="should-keyword"><strong>SHOULD</strong></span> allow optional embedding of sub-resources</a></li>
</ul>
</li>
<li><a href="#pagination">16. Pagination</a>
<ul class="sectlevel2">
<li><a href="#159"><span class="must-keyword"><strong>MUST</strong></span> support pagination</a></li>
<li><a href="#161"><span class="may-keyword"><strong>MAY</strong></span> use pagination links where applicable</a></li>
</ul>
</li>
<li><a href="#hypermedia">17. Hypermedia</a>
<ul class="sectlevel2">
<li><a href="#162"><span class="must-keyword"><strong>MUST</strong></span> use REST maturity level 2</a></li>
<li><a href="#217"><span class="should-keyword"><strong>SHOULD</strong></span> use full, absolute URI</a></li>
<li><a href="#164"><span class="must-keyword"><strong>MUST</strong></span> use common hypertext controls</a></li>
<li><a href="#166"><span class="must-keyword"><strong>MUST</strong></span> not use link headers with JSON entities</a></li>
</ul>
</li>
<li><a href="#standard-headers">18. Standard headers</a>
<ul class="sectlevel2">
<li><a href="#133"><span class="may-keyword"><strong>MAY</strong></span> use standardized headers</a></li>
<li><a href="#132"><span class="should-keyword"><strong>SHOULD</strong></span> use uppercase separate words with hyphens for HTTP headers</a></li>
<li><a href="#178"><span class="must-keyword"><strong>MUST</strong></span> use <code>Content-*</code> headers correctly</a></li>
<li><a href="#180"><span class="should-keyword"><strong>SHOULD</strong></span> use <code>Location</code> header instead of <code>Content-Location</code> header</a></li>
<li><a href="#179"><span class="may-keyword"><strong>MAY</strong></span> use <code>Content-Location</code> header</a></li>
<li><a href="#181"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>Prefer</code> header to handle processing preferences</a></li>
<li><a href="#182"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>ETag</code> together with <code>If-Match</code>/<code>If-None-Match</code> header</a></li>
<li><a href="#230"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>Idempotency-Key</code> header</a></li>
</ul>
</li>
<li><a href="#api-operation">19. API Operation</a>
<ul class="sectlevel2">
<li><a href="#192"><span class="must-keyword"><strong>MUST</strong></span> publish OpenAPI specification</a></li>
<li><a href="#193"><span class="must-keyword"><strong>MUST</strong></span> monitor API usage</a></li>
</ul>
</li>
<li><a href="#appendix-references">Appendix A: References</a>
<ul class="sectlevel2">
<li><a href="#openapi-specification">OpenAPI specification</a></li>
<li><a href="#publications-specifications-and-standards">Publications, specifications and standards</a></li>
<li><a href="#dissertations">Dissertations</a></li>
<li><a href="#books">Books</a></li>
<li><a href="#blogs">Blogs</a></li>
</ul>
</li>
<li><a href="#appendix-tooling">Appendix B: Tooling</a>
<ul class="sectlevel2">
<li><a href="#api-first-integrations">API first integrations</a></li>
</ul>
</li>
<li><a href="#appendix-best-practices">Appendix C: Best practices</a>
<ul class="sectlevel2">
<li><a href="#cursor-based-pagination">Cursor-based pagination in RESTful APIs</a></li>
<li><a href="#optimistic-locking">Optimistic locking in RESTful APIs</a></li>
</ul>
</li>
<li><a href="#appendix-changelog">Appendix D: Changelog</a>
<ul class="sectlevel2">
<li><a href="#rule-changes">Rule Changes</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>SailPoint&#8217;s SaaS software architecture centers around microservices
that provide functionality via RESTful APIs with a JSON payload. Small
engineering teams own, deploy and operate these microservices. Our APIs most purely express what our systems do,
and are therefore highly valuable business assets. Designing
high-quality, long-lasting APIs has become even more critical for us
as we invest more in our SaaS platform and enabling customers and partners to build
functionalty outside of our UI.</p>
</div>
<div class="paragraph">
<p>With this in mind, we’ve adopted "API First" as one of our key
engineering principles. Microservices development begins with API
definition outside the code and ideally involves ample peer-review
feedback to achieve high-quality APIs. API First encompasses a set of
quality-related standards and fosters a peer review culture including a
lightweight review procedure. We encourage our teams to follow them to
ensure that our APIs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>are easy to understand and learn</p>
</li>
<li>
<p>are general and abstracted from specific implementation and use cases</p>
</li>
<li>
<p>are robust and easy to use</p>
</li>
<li>
<p>have a common look and feel</p>
</li>
<li>
<p>follow a consistent RESTful style and syntax</p>
</li>
<li>
<p>are consistent with other teams’ APIs and our global architecture</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ideally, all SailPoint APIs will look like the same author created them.</p>
</div>
<div class="sect2">
<h3 id="conventions-used-in-these-guidelines"><a class="link" href="#conventions-used-in-these-guidelines">Conventions used in these guidelines</a></h3>
<div class="paragraph">
<p>The requirement level keywords "MUST", "MUST NOT", "REQUIRED", "SHALL",
"SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
"OPTIONAL" used in this document (case insensitive) are to be
interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC
2119</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="sailpoint-specific-information"><a class="link" href="#sailpoint-specific-information">SailPoint specific information</a></h3>
<div class="paragraph">
<p>The purpose of our "RESTful API guidelines" is to define standards to
successfully establish "consistent API look and feel" quality. The
SailPoint API Guild drafted and owns this document. Teams are responsible to fulfill
these guidelines during API development and are encouraged to contribute
to guideline evolution via pull requests.</p>
</div>
<div class="paragraph">
<p>These guidelines will, to some extent, remain work in progress as our
work evolves, but teams can confidently follow and trust them.</p>
</div>
<div class="paragraph">
<p>In case guidelines are changing, following rules apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>existing APIs don&#8217;t have to be changed, but we recommend it</p>
</li>
<li>
<p>clients of existing APIs have to cope with these APIs based on
outdated rules</p>
</li>
<li>
<p>new APIs have to respect the current guidelines</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore you should keep in mind that once an API becomes public
externally available, it has to be re-reviewed and changed according to
current guidelines - for sake of overall consistency.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="principles"><a class="link" href="#principles">2. Principles</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="api-design-principles"><a class="link" href="#api-design-principles">API design principles</a></h3>
<div class="paragraph">
<p>Comparing SOA web service interfacing style of SOAP vs. REST, the former
tend to be centered around operations that are usually use-case specific
and specialized. In contrast, REST is centered around business (data)
entities exposed as resources that are identified via URIs and can be
manipulated via standardized CRUD-like methods using different
representations, and hypermedia. RESTful APIs
tend to be less use-case specific and come with less rigid client /
server coupling and are more suitable for an ecosystem of (core) services
providing a platform of APIs to build diverse new business services.
We apply the RESTful web service principles to all kind of application
(micro-) service components, independently from whether they provide
functionality via the internet or intranet.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We prefer REST-based APIs with JSON payloads</p>
</li>
<li>
<p>We prefer systems to be truly RESTful
<sup class="footnote" id="_footnote_fielding-restful">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An important principle for API design and usage is Postel&#8217;s
Law, aka <a href="http://en.wikipedia.org/wiki/Robustness_principle">The
Robustness Principle</a> (see also <a href="https://tools.ietf.org/html/rfc1122">RFC 1122</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Be liberal in what you accept, be conservative in what you send</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Readings:</em> Some interesting reads on the RESTful API design style and service architecture:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Article:
<a href="https://www.thoughtworks.com/insights/blog/rest-api-design-resource-modeling">REST API Design - Resource Modeling</a></p>
</li>
<li>
<p>Article:
<a href="https://martinfowler.com/articles/richardsonMaturityModel.html">Richardson Maturity Model&#8201;&#8212;&#8201;Steps toward the glory of REST</a></p>
</li>
<li>
<p>Book:
<a href="https://www.amazon.de/Irresistible-APIs-Designing-that-developers/dp/1617292559">Irresistable
APIs: Designing web APIs that developers will love</a></p>
</li>
<li>
<p>Book:
<a href="http://www.amazon.de/REST-Practice-Hypermedia-Systems-Architecture/dp/0596805829">REST
in Practice: Hypermedia and Systems Architecture</a></p>
</li>
<li>
<p>Book: <a href="https://leanpub.com/build-apis-you-wont-hate">Build APIs You
Won&#8217;t Hate</a></p>
</li>
<li>
<p>Fielding Dissertation:
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">Architectural
Styles and the Design of Network-Based Software Architectures</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="api-as-a-product"><a class="link" href="#api-as-a-product">API as a product</a></h3>
<div class="paragraph">
<p>At SailPoint, we want to deliver products to our (internal and external)
customers which can be consumed like a service.  Platform products provide their functionality via (public) APIs; hence,
the design of our APIs should be based on the API as a Product
principle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Treat your API as product and act like a product owner</p>
</li>
<li>
<p>Put yourself into the place of your customers; be an advocate for
their needs</p>
</li>
<li>
<p>Emphasize simplicity, comprehensibility, and usability of APIs to
make them irresistible for client engineers</p>
</li>
<li>
<p>Actively improve and maintain API consistency over the long term</p>
</li>
<li>
<p>Make use of customer feedback and provide service level support</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Embracing 'API as a Product' facilitates a service ecosystem, which can
be evolved more easily and used to experiment quickly with new business
ideas by recombining core capabilities.
It makes the difference between agile, innovative product service
business built on a platform of APIs and ordinary enterprise integration business
where APIs are provided as "appendix" of existing products to support system integration
and optimised for local server-side realization.</p>
</div>
<div class="paragraph">
<p>Understand the concrete use cases of your customers and carefully check
the trade-offs of your API design variants with a product mindset. Avoid short-term
implementation optimizations at the expense of unnecessary client side
obligations, and have a high attention on API quality and client
developer experience.</p>
</div>
<div class="paragraph">
<p>API as a Product is closely related to our <a href="#100">API First principle</a>
(see next chapter) which is more focused on how we engineer high quality APIs.</p>
</div>
</div>
<div class="sect2">
<h3 id="api-first"><a class="link" href="#api-first">API first</a></h3>
<div class="paragraph">
<p>API First is one of our engineering
and architecture principles. In a nutshell API First requires two
aspects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>define APIs first, before coding its implementation, using a standard specification
language</p>
</li>
<li>
<p>get early review feedback from peers and client developers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By defining APIs outside the code, we want to facilitate early review
feedback and also a development discipline that focus service interface
design on&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>profound understanding of the domain and required functionality</p>
</li>
<li>
<p>generalized business entities / resources, i.e. avoidance of use case
specific APIs</p>
</li>
<li>
<p>clear separation of WHAT vs. HOW concerns, i.e. abstraction from
implementation aspects — APIs should be stable even if we replace
complete service implementation including its underlying technology
stack</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Moreover, API definitions with standardized specification format also
facilitate&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>single source of truth for the API specification; it is a crucial part
of a contract between service provider and client users</p>
</li>
<li>
<p>infrastructure tooling for API discovery, API GUIs, API documents,
automated quality checks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Elements of API First are also this API Guidelines and a standardized
API review process as to get early review feedback from
peers and client developers. Peer review is important for us to get high
quality APIs, to enable architectural and design alignment and to
supported development of client applications decoupled from service
provider engineering life cycle.</p>
</div>
<div class="paragraph">
<p>It is important to learn, that API First is <strong>not in conflict with the
agile development principles</strong> that we love. Service applications should
evolve incrementally — and so its APIs. Of course, our API specification
will and should evolve iteratively in different cycles; however, each
starting with draft status and <em>early</em> team and peer review feedback.
API may change and profit from implementation concerns and automated
testing feedback. API evolution during development life cycle may
include breaking changes for not yet productive features and as long as
we have aligned the changes with the clients. Hence, API First does
<em>not</em> mean that you must have 100% domain and requirement understanding
and can never produce code before you have defined the complete API and
get it confirmed by peer review.</p>
</div>
<div class="paragraph">
<p>On the other hand, API First obviously is in conflict with the bad
practice of publishing API definition and asking for peer review after
the service integration or even the service productive operation has
started. It is crucial to request and get early feedback — as early as
possible, but not before the API changes are comprehensive with focus
to the next evolution step and have a certain quality (including API
Guideline compliance), already confirmed via team internal reviews.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="general-guidelines"><a class="link" href="#general-guidelines">3. General guidelines</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The titles are marked with the corresponding labels: <span class="must-keyword"><strong>MUST</strong></span>,
<span class="should-keyword"><strong>SHOULD</strong></span>, <span class="may-keyword"><strong>MAY</strong></span>.</p>
</div>
<div class="sect2">
<h3 id="301"><a class="link" href="#301"><span class="must-keyword"><strong>MUST</strong></span> follow SailPoint API Guidelines</a></h3>
<div class="paragraph">
<p>You must design your APIs consistently with these guidelines; use our API linter for automated rule checks, but not every rule can be automated.</p>
</div>
</div>
<div class="sect2">
<h3 id="100"><a class="link" href="#100"><span class="should-keyword"><strong>SHOULD</strong></span> follow API first principle</a></h3>
<div class="paragraph">
<p>You should follow the <a href="#api-first">API First Principle</a>, more specifically:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You should define APIs first, before coding their implementation,
using <a href="#101">OpenAPI as the specification language</a></p>
</li>
<li>
<p>You should call for early review feedback from peers and client developers</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="101"><a class="link" href="#101"><span class="must-keyword"><strong>MUST</strong></span> provide API specification using OpenAPI</a></h3>
<div class="paragraph">
<p>We use the <a href="https://swagger.io/specification/" class="external" target="_blank" rel="noopener">OpenAPI specification</a> as the standard to define API specification files.
OpenAPI 3.0 must be supported, but you MAY support other versions, like Swagger 2.</p>
</div>
<div class="paragraph">
<p>The API specification files should be subject to version control using a source code management system.</p>
</div>
<div class="paragraph">
<p>You <a href="#192">must</a> publish the component API specification with the deployment of the implementing service, and, hence,
make it discoverable for the appropriate group via our <a href="https://developer.sailpoint.com/" class="external" target="_blank" rel="noopener">API Portal</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="302"><a class="link" href="#302"><span class="must-keyword"><strong>MUST</strong></span> provide detailed API description</a></h3>
<div class="paragraph">
<p>Within the API specification, you must provide sufficient information in
the description of the API to facilitate proper usage.  This may include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>API scope, purpose, and use cases</p>
</li>
<li>
<p>Major edge cases</p>
</li>
<li>
<p>Major dependencies</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="102"><a class="link" href="#102"><span class="should-keyword"><strong>SHOULD</strong></span> provide API user manual</a></h3>
<div class="paragraph">
<p>In addition to the API Specification, it is good practice to provide a separate API
user manual to improve client developer experience, especially of engineers that are
less experienced in using this API. A helpful API user manual typically describes
the following API aspects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>concrete examples of API usage</p>
</li>
<li>
<p>edge cases, error situation details, and repair hints</p>
</li>
<li>
<p>architecture context and dependencies - including figures and sequence flows</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The user manual must be published online, e.g. via our documentation hosting
platform service. Please do not forget to include a link to the API user
manual into the API specification using the #/externalDocs/url property.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This manual does not have to be created by engineering, but could be created by a documentation team, Developer Relations or by community effort.
It is important to provide extra documentation for our developers to reduce the number of support related questions that come in.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="303"><a class="link" href="#303"><span class="must-keyword"><strong>MUST</strong></span> describe every parameter and property <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>Every query/path parameter and request/response property in the API specification must have a description</p>
</div>
</div>
<div class="sect2">
<h3 id="304"><a class="link" href="#304"><span class="must-keyword"><strong>MUST</strong></span> provide an example for every parameter and property <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>Every query/path parameter and request/response property in the API specification must have an accurate example.
An accurate example will show the API consumer what an input/output value will realistically look like, and could even be used in a real request/response.
However, take care to not use personally identifiable information or secrets in examples.</p>
</div>
<div class="paragraph">
<p>Every operation (POST, PUT, PATCH, etc) may define one or more operation level examples.</p>
</div>
</div>
<div class="sect2">
<h3 id="305"><a class="link" href="#305"><span class="should-keyword"><strong>SHOULD</strong></span> keep operation summaries at five or less words <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>Certain tools, like Postman, have a limit on how many words can be displayed within the operation summary.
It is helpful for consumers to have short summaries that describe the operation at its most basic level to improve readability for consumers.</p>
</div>
</div>
<div class="sect2">
<h3 id="400"><a class="link" href="#400"><span class="must-keyword"><strong>MUST</strong></span> provide a valid operationId in camelCase for each operation <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p><code>operationId</code> is a unique string used to identify an operation. These IDs must be unique among all operations described in your API.</p>
</div>
<div class="paragraph">
<p>Certain tools, like the OpenAPI Generator use this value to name the corresponding methods in code.</p>
</div>
<div class="paragraph">
<p>The following <code>listAccessProfiles</code> is an example of an operationId.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">get</span>:
  <span class="key">operationId</span>: <span class="string"><span class="content">listAccessProfiles</span></span>
  <span class="key">tags</span>:
    - <span class="string"><span class="content">Access Profiles</span></span>
  <span class="key">summary</span>: <span class="string"><span class="content">List Access Profiles</span></span>
  <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;-</span><span class="content">
    This API returns a list of Access Profiles.</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use this guide when creating your operationIds. Your operationId must start with one of the approved values for each method.</p>
</div>
<div class="paragraph">
<p><strong>GET</strong> methods that return an array</p>
</div>
<div class="ulist">
<ul>
<li>
<p>compare</p>
</li>
<li>
<p>export</p>
</li>
<li>
<p>get</p>
</li>
<li>
<p>list</p>
</li>
<li>
<p>search</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>GET</strong> methods that return a single result</p>
</div>
<div class="ulist">
<ul>
<li>
<p>get</p>
</li>
<li>
<p>search</p>
</li>
<li>
<p>test</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>POST</strong> methods</p>
</div>
<div class="ulist">
<ul>
<li>
<p>approve</p>
</li>
<li>
<p>cancel</p>
</li>
<li>
<p>complete</p>
</li>
<li>
<p>create</p>
</li>
<li>
<p>delete</p>
</li>
<li>
<p>disable</p>
</li>
<li>
<p>enable</p>
</li>
<li>
<p>export</p>
</li>
<li>
<p>hide</p>
</li>
<li>
<p>import</p>
</li>
<li>
<p>move</p>
</li>
<li>
<p>ping</p>
</li>
<li>
<p>reject</p>
</li>
<li>
<p>reset</p>
</li>
<li>
<p>search</p>
</li>
<li>
<p>send</p>
</li>
<li>
<p>set</p>
</li>
<li>
<p>show</p>
</li>
<li>
<p>start</p>
</li>
<li>
<p>submit</p>
</li>
<li>
<p>sync</p>
</li>
<li>
<p>unlock</p>
</li>
<li>
<p>unregister</p>
</li>
<li>
<p>update</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>PUT</strong> methods</p>
</div>
<div class="ulist">
<ul>
<li>
<p>put</p>
</li>
<li>
<p>set</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>PATCH</strong> methods</p>
</div>
<div class="ulist">
<ul>
<li>
<p>patch</p>
</li>
<li>
<p>update</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>DELETE</strong> methods</p>
</div>
<div class="ulist">
<ul>
<li>
<p>delete</p>
</li>
<li>
<p>remove</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="402"><a class="link" href="#402"><span class="must-keyword"><strong>MUST</strong></span> provide a valid tag for each operation <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>Each operation must be assigned exactly one tag that categorizes it. No operation should have more than one tag.</p>
</div>
<div class="paragraph">
<p>This tag must also exist in the root specification.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">get</span>:
  <span class="key">operationId</span>: <span class="string"><span class="content">listAccessProfiles</span></span>
  <span class="key">tags</span>:
    - <span class="string"><span class="content">Access Profiles</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="103"><a class="link" href="#103"><span class="must-keyword"><strong>MUST</strong></span> write APIs using U.S. English</a></h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="meta-information"><a class="link" href="#meta-information">4. Meta information</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="218"><a class="link" href="#218"><span class="must-keyword"><strong>MUST</strong></span> contain API meta information</a></h3>
<div class="paragraph">
<p>API specifications must contain the following OpenAPI meta information
to allow for API management:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>#/info/title</code> as (unique) identifying, functional descriptive name of the API</p>
</li>
<li>
<p><code>#/info/version</code> to distinguish API specifications versions following
<a href="#116">semantic rules</a></p>
</li>
<li>
<p><code>#/info/description</code> containing a proper description of the API</p>
</li>
<li>
<p><code>#/info/x-audience</code> intended target audience of the API (<a href="#219">see rule 219</a>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We’ll automatically generate <code>#/info/contact/*</code> when creating the public Open API spec.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="116"><a class="link" href="#116"><span class="must-keyword"><strong>MUST</strong></span> use semantic versioning</a></h3>
<div class="paragraph">
<p>OpenAPI allows to specify the API specification version in
<code>#/info/version</code>. To share a common semantic of version information we
expect API designers to comply to <a href="http://semver.org/spec/v2.0.0.html">
Semantic Versioning 2.0</a> rules <code>1</code> to <code>8</code> and <code>11</code> restricted to the format
&lt;MAJOR&gt;.&lt;MINOR&gt;.&lt;PATCH&gt; for versions as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Increment the <strong>MAJOR</strong> version when you make incompatible API changes
after having aligned this changes with consumers,</p>
</li>
<li>
<p>Increment the <strong>MINOR</strong> version when you add new functionality in a
backwards-compatible manner, and</p>
</li>
<li>
<p>Optionally increment the <strong>PATCH</strong> version when you make
backwards-compatible bug fixes or editorial changes not affecting the
functionality.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Additional Notes:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Pre-release</strong> versions (<a href="http://semver.org#spec-item-9">rule 9</a>) and
<strong>build metadata</strong> (<a href="http://semver.org#spec-item-10">rule 10</a>) must not
be used in API version information.</p>
</li>
<li>
<p>While patch versions are useful for fixing typos etc, API designers
are free to decide whether they increment it or not.</p>
</li>
<li>
<p>API designers should consider to use API version <code>0.y.z</code>
(<a href="http://semver.org/#spec-item-4">rule 4</a>) for initial API design.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">openapi</span>: <span class="string"><span class="content">3.0.1</span></span>
<span class="key">info</span>:
  <span class="key">title</span>: <span class="string"><span class="content">Parcel Service API</span></span>
  <span class="key">description</span>: <span class="string"><span class="content">API for &lt;...&gt;</span></span>
  <span class="key">version</span>: <span class="string"><span class="content">1.3.7</span></span>
  <span class="error">&lt;...&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We’ll automatically generate the global <code>#/info/version</code> when creating public Open API spec.
Each individual endpoint spec author need not worry about this attribute.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="219"><a class="link" href="#219"><span class="must-keyword"><strong>MUST</strong></span> provide API audience</a></h3>
<div class="paragraph">
<p>Each API must be classified with respect to the intended target audience
supposed to consume the API, to facilitate differentiated standards on APIs
for discoverability, changeability, quality of design and documentation, as
well as permission granting. We differentiate the following API audience
groups with clear organizational and legal boundaries:</p>
</div>
<div class="paragraph">
<p><code>internal-company</code>
<code>external-public</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is only for documentation generation purposes and not related to
authorization—authz concerns must be addressed with normal policies.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">/info/x-audience</span>:
  <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
  <span class="key">x-extensible-enum</span>:
    - <span class="string"><span class="content">internal-company</span></span>
    - <span class="string"><span class="content">external-public</span></span>
  <span class="key">description</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    Intended target audience of the API. Relevant for standards around
    quality of design and documentation, reviews, discoverability,
    changeability.</span></span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Exactly one audience per API specification is allowed. For this reason
a smaller audience group is intentionally included in the wider group
and thus does not need to be declared additionally. If parts of your API
have a different target audience, we recommend to split API specifications
along the target audience — even if this creates redundancies (rationale (internal link)).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">openapi</span>: <span class="string"><span class="content">3.0.1</span></span>
<span class="key">info</span>:
  <span class="key">x-audience</span>: <span class="string"><span class="content">internal-company</span></span>
  <span class="key">title</span>: <span class="string"><span class="content">Service to Service API</span></span>
  <span class="key">description</span>: <span class="string"><span class="content">API for &lt;...&gt;</span></span>
  <span class="key">version</span>: <span class="string"><span class="content">1.2.4</span></span>
  <span class="error">&lt;...&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security"><a class="link" href="#security">5. Security</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="104"><a class="link" href="#104"><span class="must-keyword"><strong>MUST</strong></span> secure endpoints with OAuth 2.0 <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>Every public API endpoint must be secured using OAuth 2.0.</p>
</div>
<div class="paragraph">
<p>For information on adding new oauth2 scopes visit <a href="https://sailpoint.atlassian.net/wiki/spaces/PLAT/pages/1713963123/Defining+Scopes+for+API+Authorization" class="external" target="_blank" rel="noopener">Defining Scopes for API Authorization</a>.</p>
</div>
<div class="paragraph">
<p>The following code snippet shows how to define the authorization scheme using a bearer token (e.g. JWT token).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">components</span>:
  <span class="key">securitySchemes</span>:
    <span class="key">oauth2</span>:
      <span class="key">type</span>: <span class="string"><span class="content">oauth2</span></span>
      <span class="key">description</span>: <span class="string"><span class="delimiter">|</span><span class="content">
        OAuth2 Bearer token (JWT).</span></span>
      <span class="key">flows</span>:
        <span class="key">clientCredentials</span>:
          <span class="key">tokenUrl</span>: <span class="string"><span class="content">https://tenant.api.identitynow.com/oauth/token</span></span>
          <span class="key">scopes</span>:
            <span class="key"><span class="delimiter">&quot;</span><span class="content">sp:scopes:default</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">default scope</span><span class="delimiter">&quot;</span></span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">sp:scopes:all</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">access to all scopes</span><span class="delimiter">&quot;</span></span>
        <span class="key">authorizationCode</span>:
          <span class="key">authorizationUrl</span>: <span class="string"><span class="content">https://tenant.identitynow.com/oauth/authorize</span></span>
          <span class="key">tokenUrl</span>: <span class="string"><span class="content">https://tenant.api.identitynow.com/oauth/token</span></span>
          <span class="key">scopes</span>:
            <span class="key"><span class="delimiter">&quot;</span><span class="content">sp:scopes:default</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">default scope</span><span class="delimiter">&quot;</span></span>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">sp:scopes:all</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">access to all scopes</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The next code snippet applies this security scheme to all API endpoints. The bearer token of the client must have additionally the scopes scope_1 and scope_2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">security</span>:
    - <span class="string"><span class="content">UserContextAuth: [ scope_1, scope_2 ]</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="105"><a class="link" href="#105"><span class="must-keyword"><strong>MUST</strong></span> define and assign permissions (scopes) <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>Each endpoint must document every <a href="https://github.com/sailpoint/cloud-api-client-common/blob/master/api-specs/src/main/yaml/beta/securitySchemes/OAuth2.yaml" class="external" target="_blank" rel="noopener">AMS right</a>
needed to access the endpoint.  If creating a new AMS right that doesn’t exist in the list, then it must be added to the list first.</p>
</div>
<div class="paragraph">
<p>To appropriately document AMS rights on an endpoint, use the following OpenAPI properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">security</span>:
  - <span class="string"><span class="content">UserContextAuth:</span><span class="content">
     - 'idn:task-definition:read'
     - 'idn:task-definition:write'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A full example on an endpoint might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">get</span>:
  <span class="key">tags</span>:
    - <span class="string"><span class="content">tenants</span></span>
  <span class="key">summary</span>: <span class="string"><span class="content">Get Tenant</span></span>
  <span class="key">description</span>: <span class="string"><span class="content">Get tenant object based on current auth token</span></span>
  <span class="key">operationId</span>: <span class="string"><span class="content">getTenant</span></span>
  <span class="key">responses</span>:
    <span class="key"><span class="delimiter">'</span><span class="content">200</span><span class="delimiter">'</span></span>:
      <span class="key">description</span>: <span class="string"><span class="content">successful operation</span></span>
      <span class="key">content</span>:
        <span class="key">application/json</span>:
          <span class="key">schema</span>:
            <span class="error">$ref</span>: <span class="error">'../schemas/Tenant.yaml'</span>
  <span class="key">security</span>:
    - <span class="string"><span class="content">UserContextAuth:</span><span class="content">
        - 'idn:accounts:read'</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="306"><a class="link" href="#306"><span class="must-keyword"><strong>MUST</strong></span> Document necessary license add-on to use an API collection</a></h3>
<div class="paragraph">
<p>If an API collection requires additional product licenses to enable the feature, then each required license must be documented in the API collection description.</p>
</div>
</div>
<div class="sect2">
<h3 id="225"><a class="link" href="#225"><span class="must-keyword"><strong>MUST</strong></span> follow naming convention for permissions (scopes)</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compatibility"><a class="link" href="#compatibility">6. Compatibility</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="106"><a class="link" href="#106"><span class="must-keyword"><strong>MUST</strong></span> not break backward compatibility</a></h3>
<div class="paragraph">
<p>Change APIs, but keep all consumers running. Consumers usually have independent
release lifecycles, focus on stability, and avoid changes that do not provide
additional value. APIs are contracts between service providers and service
consumers that cannot be broken via unilateral decisions.</p>
</div>
<div class="paragraph">
<p>There are two techniques to change APIs without breaking them:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>follow rules for compatible extensions</p>
</li>
<li>
<p>introduce new API versions and still support older versions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We strongly encourage using compatible API extensions and discourage versioning
(see <a href="#113"><span class="should-keyword"><strong>SHOULD</strong></span> avoid versioning</a> and <a href="#115"><span class="must-keyword"><strong>MUST</strong></span> use URI versioning</a> below). The following guidelines for service providers
(<a href="#107"><span class="should-keyword"><strong>SHOULD</strong></span> prefer compatible extensions</a>) and consumers (<a href="#108"><span class="must-keyword"><strong>MUST</strong></span> prepare clients to accept compatible API extensions</a>) enable us (having Postel’s Law in mind) to
make compatible changes without versioning.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> There is a difference between incompatible and breaking changes.
Incompatible changes are changes that are not covered by the compatibility
rules below. Breaking changes are incompatible changes deployed into operation,
and thereby breaking running API consumers. Usually, incompatible changes are
breaking changes when deployed into operation. However, in specific controlled
situations it is possible to deploy incompatible changes in a non-breaking way,
if no API consumer is using the affected API aspects (see also <a href="#deprecation">Deprecation</a> guidelines).</p>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> Please note that the compatibility guarantees are for the "on the wire"
format. Binary or source compatibility of code generated from an API definition
is not covered by these rules. If client implementations update their
generation process to a new version of the API definition, it has to be
expected that code changes are necessary.</p>
</div>
</div>
<div class="sect2">
<h3 id="107"><a class="link" href="#107"><span class="should-keyword"><strong>SHOULD</strong></span> prefer compatible extensions</a></h3>
<div class="paragraph">
<p>API designers should apply the following rules to evolve RESTful APIs for
services in a backward-compatible way:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add only optional, never mandatory fields.</p>
</li>
<li>
<p>Never change the semantic of fields (e.g. changing the semantic from
customer-number to customer-id, as both are different unique customer keys)</p>
</li>
<li>
<p>Input fields may have (complex) constraints being validated via server-side
business logic. Never change the validation logic to be more restrictive and
make sure that all constraints are clearly defined in description.</p>
</li>
<li>
<p>Enum ranges can be reduced when used as input parameters, only if the server
is ready to accept and handle old range values too. Enum range can be reduced
when used as output parameters.</p>
</li>
<li>
<p>Enum ranges cannot be extended when used for output parameters — clients may
not be prepared to handle it. However, enum ranges can be extended when used
for input parameters.</p>
</li>
<li>
<p>Support redirection in case an URL has to change <a href="#status-code-301" class="status-code">301</a> (Moved Permanently).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="108"><a class="link" href="#108"><span class="must-keyword"><strong>MUST</strong></span> prepare clients to accept compatible API extensions</a></h3>
<div class="paragraph">
<p>Service clients should apply the robustness principle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Be conservative with API requests and data passed as input, e.g. avoid to
exploit definition deficits like passing megabytes of strings with
unspecified maximum length.</p>
</li>
<li>
<p>Be tolerant in processing and reading data of API responses, more
specifically&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Service clients must be prepared for compatible API extensions of service
providers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Be tolerant with unknown fields in the payload (see also Fowler’s
<a href="http://martinfowler.com/bliki/TolerantReader.html">"TolerantReader"</a> post),
i.e. ignore new fields but do not eliminate them from payload if needed for
subsequent <a href="#put"><code>PUT</code></a> requests.</p>
</li>
<li>
<p>Be prepared that <a href="#112"><code>x-extensible-enum</code></a> return parameter may deliver new values;
either be agnostic or provide default behavior for unknown values.</p>
</li>
<li>
<p>Be prepared to handle HTTP status codes not explicitly specified in endpoint
definitions. Note also, that status codes are extensible. Default handling is
how you would treat the corresponding <a href="#http-status-codes-and-errors" class="status-code">2xx</a> code (see
<a href="https://tools.ietf.org/html/rfc7231#section-6">RFC 7231 Section 6</a>).</p>
</li>
<li>
<p>Follow the redirect when the server returns HTTP status code <a href="#status-code-301" class="status-code">301</a> (Moved
Permanently).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="109"><a class="link" href="#109"><span class="should-keyword"><strong>SHOULD</strong></span> design APIs conservatively</a></h3>
<div class="paragraph">
<p>Designers of service provider APIs should be conservative and accurate in what
they accept from clients:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unknown input fields in payload or URL should not be ignored; servers should
provide error feedback to clients via an HTTP 400 response code.</p>
</li>
<li>
<p>Be accurate in defining input data constraints (like formats, ranges, lengths
etc.) — and check constraints and return dedicated error information in case
of violations.</p>
</li>
<li>
<p>Prefer being more specific and restrictive (if compliant to functional
requirements), e.g. by defining length range of strings. It may simplify
implementation while providing freedom for further evolution as compatible
extensions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Not ignoring unknown input fields is a specific deviation from Postel&#8217;s Law
(e.g. see also<br>
<a href="https://cacm.acm.org/magazines/2011/8/114933-the-robustness-principle-reconsidered/fulltext">The
Robustness Principle Reconsidered</a>) and a strong recommendation. Servers might
want to take different approach but should be aware of the following problems
and be explicit in what is supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ignoring unknown input fields is actually not an option for <a href="#put"><code>PUT</code></a>, since it
becomes asymmetric with subsequent <a href="#get"><code>GET</code></a> response and HTTP is clear about the
<a href="#put"><code>PUT</code></a> <em>replace</em> semantics and default roundtrip expectations (see
<a href="https://tools.ietf.org/html/rfc7231#section-4.3.4">RFC 7231 Section 4.3.4</a>). Note, accepting (i.e. not
ignoring) unknown input fields and returning it in subsequent <a href="#get"><code>GET</code></a> responses
is a different situation and compliant to <a href="#put"><code>PUT</code></a> semantics.</p>
</li>
<li>
<p>Certain client errors cannot be recognized by servers, e.g. attribute name
typing errors will be ignored without server error feedback. The server
cannot differentiate between the client intentionally providing an additional
field versus the client sending a mistakenly named field, when the client&#8217;s
actual intent was to provide an optional input field.</p>
</li>
<li>
<p>Future extensions of the input data structure might be in conflict with
already ignored fields and, hence, will not be compatible, i.e. break clients
that already use this field but with different type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In specific situations, where a (known) input field is not needed anymore, it
either can stay in the API definition with "not used anymore" description or
can be removed from the API definition as long as the server ignores this
specific parameter.</p>
</div>
</div>
<div class="sect2">
<h3 id="110"><a class="link" href="#110"><span class="must-keyword"><strong>MUST</strong></span> always return JSON objects as top-level data structures</a></h3>
<div class="paragraph">
<p>In a response body, you must always return a JSON object (and not e.g. an
array) as a top level data structure to support future extensibility. JSON
objects support compatible extension by additional attributes. This allows you
to easily extend your response and e.g. add pagination later, without breaking
backwards compatibility. See <a href="#161"><span class="may-keyword"><strong>MAY</strong></span> use pagination links where applicable</a> for an example.</p>
</div>
<div class="paragraph">
<p>Maps (see <a href="#216"><span class="should-keyword"><strong>SHOULD</strong></span> define maps using <code>additionalProperties</code></a>), even though technically objects, are also forbidden as top
level data structures, since they don&#8217;t support compatible, future extensions.</p>
</div>
</div>
<div class="sect2">
<h3 id="111"><a class="link" href="#111"><span class="must-keyword"><strong>MUST</strong></span> treat OpenAPI specification as open for extension by default</a></h3>
<div class="paragraph">
<p>The OpenAPI specification is not very specific on default extensibility
of objects, and redefines JSON-Schema keywords related to extensibility, like
<code>additionalProperties</code>. Following our compatibility guidelines, OpenAPI
object definitions are considered open for extension by default as per
<a href="http://json-schema.org/latest/json-schema-validation.html#rfc.section.5.18">Section
5.18 "additionalProperties"</a> of JSON-Schema.</p>
</div>
<div class="paragraph">
<p>When it comes to OpenAPI, this means an <code>additionalProperties</code> declaration
is not required to make an object definition extensible:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>API clients consuming data must not assume that objects are closed for
extension in the absence of an <code>additionalProperties</code> declaration and must
ignore fields sent by the server they cannot process. This allows API
servers to evolve their data formats.</p>
</li>
<li>
<p>For API servers receiving unexpected data, the situation is slightly
different. Instead of ignoring fields, servers <em>may</em> reject requests whose
entities contain undefined fields in order to signal to clients that those
fields would not be stored on behalf of the client. API designers must
document clearly how unexpected fields are handled for <a href="#put"><code>PUT</code></a>, <a href="#post"><code>POST</code></a>, and
<a href="#patch"><code>PATCH</code></a> requests.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>API formats must not declare <code>additionalProperties</code> to be false, as this
prevents objects being extended in the future.</p>
</div>
<div class="paragraph">
<p>Note that this guideline concentrates on default extensibility and does not
exclude the use of <code>additionalProperties</code> with a schema as a value, which might
be appropriate in some circumstances, e.g. see <a href="#216"><span class="should-keyword"><strong>SHOULD</strong></span> define maps using <code>additionalProperties</code></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="113"><a class="link" href="#113"><span class="should-keyword"><strong>SHOULD</strong></span> avoid versioning</a></h3>
<div class="paragraph">
<p>When changing your RESTful APIs, do so in a compatible way and avoid generating
additional API versions. Multiple versions can significantly complicate
understanding, testing, maintaining, evolving, operating and releasing our
systems
(<a href="http://martinfowler.com/articles/enterpriseREST.html">supplementary
reading</a>).</p>
</div>
<div class="paragraph">
<p>If changing an API can’t be done in a compatible way, then proceed in one of
these three ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create a new resource (variant) in addition to the old resource variant</p>
</li>
<li>
<p>create a new service endpoint — i.e. a new application with a new API (with a
new domain name)</p>
</li>
<li>
<p>create a new API version supported in parallel with the old API by the same
microservice</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="115"><a class="link" href="#115"><span class="must-keyword"><strong>MUST</strong></span> use URI versioning</a></h3>
<div class="paragraph">
<p>SailPoint uses URI versioning with the following structure:</p>
</div>
<div class="paragraph">
<p>/v{version number}</p>
</div>
<div class="paragraph">
<p>Ex. /v3, /v4, etc.</p>
</div>
<div class="paragraph">
<p>Note: Beta APIs fall under /beta.</p>
</div>
</div>
<div class="sect2">
<h3 id="307"><a class="link" href="#307"><span class="must-keyword"><strong>MUST</strong></span> follow versioned API requirements</a></h3>
<div class="paragraph">
<p>All versioned APIs must adhere to the following requirements</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Can be internal or external.</p>
</li>
<li>
<p>NO BREAKING CHANGES! (barring necessary security fixes)</p>
</li>
<li>
<p>Supported (sev-1!)</p>
</li>
<li>
<p>Documented in OpenAPI specification format</p>
</li>
<li>
<p>Minimum 2 year support obligation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Breaking changes include, but are not limited to, the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Removal of fields on resource models</p>
</li>
<li>
<p>Changing an existing field on a post/put/patch from optional to required (or not permitted)</p>
</li>
<li>
<p>Removal of resources</p>
</li>
<li>
<p>URI changes</p>
</li>
<li>
<p>New or different response status codes</p>
</li>
<li>
<p>Other semantic changes (including new values in enumerated types if those values are part of the API contract)</p>
</li>
<li>
<p>Example: Consider a list API that returns multiple object types with a common standardized representation and the objects have a TYPE field. Adding a new TYPE value would represent a breaking change UNLESS the the contract for the API specifies that new types may be added. If there is no means of filtering based on TYPE in this example, this is probably an unacceptable term for the API contract.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If in doubt, ask! Call out any uncertainties during API review or during the design process.</p>
</div>
<div class="paragraph">
<p>Non-breaking changes may be added to an existing live version.  Here are some examples of non-breaking changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New fields on response models (that do not change the meaning of the model)</p>
</li>
<li>
<p>Making a currently required field on an input model optional</p>
</li>
<li>
<p>Adding new optional fields to input models (as long as the default value of the field preserves the previous meaning of the model)</p>
</li>
<li>
<p>Net new resources</p>
</li>
<li>
<p>New query parameters and filterable/sortable fields (as long as they are optional and the existing behavior is preserved if the new parameters are not passed)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="308"><a class="link" href="#308"><span class="must-keyword"><strong>MUST</strong></span> follow beta API requirements</a></h3>
<div class="ulist">
<ul>
<li>
<p>Beta route in styx (example: "beta/sim-integrations")</p>
</li>
<li>
<p>Supported (during business hours, no sev-1s)</p>
</li>
<li>
<p>Documented in OpenAPI specification format (and marked as beta)</p>
</li>
<li>
<p>Breaking changes must be announced ahead of time to all stakeholders</p>
</li>
<li>
<p>Can be internal or external.</p>
</li>
<li>
<p>This is expected to be a stable, usable API that is available for external and internal integration.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deprecation"><a class="link" href="#deprecation">7. Deprecation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes it is necessary to phase out an API endpoint, an API version, or an
API feature, e.g. if a field or parameter is no longer supported or a whole
business functionality behind an endpoint is supposed to be shut down. As long
as the API endpoints and features are still used by consumers these shut downs
are breaking changes and not allowed. To progress the following deprecation
rules have to be applied to make sure that the necessary consumer changes and
actions are well communicated and aligned using <em>deprecation</em> and <em>sunset</em>
dates.</p>
</div>
<div class="sect2">
<h3 id="309"><a class="link" href="#309"><span class="should-keyword"><strong>SHOULD</strong></span> Confer with clients on accepted deprecation time-span</a></h3>
<div class="paragraph">
<p>Before shutting down an API, version of an API, or API feature the producer should make sure that all clients have given their consent on a sunset date.
Producers should help consumers to migrate to a potential new API or API feature by providing a migration manual and clearly state the time line
for replacement availability and sunset (see also <a href="#189"><span class="should-keyword"><strong>SHOULD</strong></span> add <code>Deprecation</code> and <code>Sunset</code> header to responses <span class="icon lime"><i class="fa fa-check-square"></i></span></a>).  The producer should wait for all clients of a
sunset API feature to migrate before shutting down the deprecated API.</p>
</div>
</div>
<div class="sect2">
<h3 id="187"><a class="link" href="#187"><span class="must-keyword"><strong>MUST</strong></span> reflect deprecation in API specifications</a></h3>
<div class="paragraph">
<p>The API deprecation must be part of the API specification.</p>
</div>
<div class="paragraph">
<p>If an API endpoint (operation object), an input argument (parameter object),
an in/out data object (schema object), or on a more fine grained level, a
schema attribute or property should be deprecated, the producers must set
<code>deprecated: true</code> for the affected element and add further explanation to the
<code>description</code> section of the API specification. If a future shut down is
planned, the producer must provide a sunset date and document in details
what consumers should use instead and how to migrate.</p>
</div>
</div>
<div class="sect2">
<h3 id="188"><a class="link" href="#188"><span class="must-keyword"><strong>MUST</strong></span> monitor usage of deprecated API scheduled for sunset</a></h3>
<div class="paragraph">
<p>Owners of an API, API version, or API feature used in production that is
scheduled for sunset must monitor the usage of the sunset API, API version, or
API feature in order to observe migration progress and avoid uncontrolled
breaking effects on ongoing consumers. See also <a href="#193"><span class="must-keyword"><strong>MUST</strong></span> monitor API usage</a>.</p>
</div>
<div class="paragraph">
<p>Must notify customers using deprecated APIs on a timely basis to help them move onto newer APIs, especially as the API moves closer to its sunset date.</p>
</div>
</div>
<div class="sect2">
<h3 id="189"><a class="link" href="#189"><span class="should-keyword"><strong>SHOULD</strong></span> add <code>Deprecation</code> and <code>Sunset</code> header to responses <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>During the deprecation phase, the producer should add a <code>Deprecation: &lt;date-time&gt;</code>
(see <a href="https://tools.ietf.org/html/draft-ietf-httpapi-deprecation-header">draft: RFC
Deprecation HTTP Header</a>) and - if also planned - a <code>Sunset: &lt;date-time&gt;</code> (see
<a href="https://tools.ietf.org/html/rfc8594#section-3">RFC 8594</a>) header on each response affected by a
deprecated element (see <a href="#187"><span class="must-keyword"><strong>MUST</strong></span> reflect deprecation in API specifications</a>).</p>
</div>
<div class="paragraph">
<p>The <a href="https://tools.ietf.org/html/draft-ietf-httpapi-deprecation-header"><code>Deprecation</code></a> header can either be set to <code>true</code> - if a feature is retired
-, or carry a deprecation time stamp, at which a replacement will become/became
available and consumers must not on-board any longer (see <a href="#191"><span class="must-keyword"><strong>MUST</strong></span> not start using deprecated APIs</a>). The optional
<a href="https://tools.ietf.org/html/rfc8594"><code>Sunset</code></a> time stamp carries the information when consumers latest have to stop
using a feature. The sunset date should always offer an eligible time interval
for switching to a replacement feature.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="txt">Deprecation: Tue, 31 Dec 2024 23:59:59 GMT
Sunset: Wed, 31 Dec 2025 23:59:59 GMT</code></pre>
</div>
</div>
<div class="paragraph">
<p>If multiple elements are deprecated the <a href="https://tools.ietf.org/html/draft-ietf-httpapi-deprecation-header"><code>Deprecation</code></a> and <a href="https://tools.ietf.org/html/rfc8594"><code>Sunset</code></a> headers are
expected to be set to the earliest time stamp to reflect the shortest interval
consumers are expected to get active.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> adding the <a href="https://tools.ietf.org/html/draft-ietf-httpapi-deprecation-header"><code>Deprecation</code></a> and <a href="https://tools.ietf.org/html/rfc8594"><code>Sunset</code></a> header is not sufficient to gain
client consent to shut down an API or feature.</p>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> In earlier guideline versions, we used the <code>Warning</code> header to provide
the deprecation info to clients. However, <code>Warning</code> header has a less specific
semantics, will be obsolete with
<a href="https://tools.ietf.org/html/draft-ietf-httpbis-cache-06">draft: RFC HTTP
Caching</a>, and our syntax was not compliant with <a href="https://tools.ietf.org/html/rfc7234#page-29">RFC 7234&#8201;&#8212;&#8201;Warning header</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="190"><a class="link" href="#190"><span class="should-keyword"><strong>SHOULD</strong></span> add monitoring for <code>Deprecation</code> and <code>Sunset</code> header</a></h3>
<div class="paragraph">
<p>Clients should monitor the <a href="https://tools.ietf.org/html/draft-ietf-httpapi-deprecation-header"><code>Deprecation</code></a> and <a href="https://tools.ietf.org/html/rfc8594"><code>Sunset</code></a> headers in HTTP responses
to get information about future sunset of APIs and API features (see <a href="#189"><span class="should-keyword"><strong>SHOULD</strong></span> add <code>Deprecation</code> and <code>Sunset</code> header to responses <span class="icon lime"><i class="fa fa-check-square"></i></span></a>).
We recommend that client owners build alerts on this monitoring information to
ensure alignment with service owners on required migration task.</p>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> In earlier guideline versions, we used the <code>Warning</code> header to provide
the deprecation info (see hint in <a href="#189"><span class="should-keyword"><strong>SHOULD</strong></span> add <code>Deprecation</code> and <code>Sunset</code> header to responses <span class="icon lime"><i class="fa fa-check-square"></i></span></a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="191"><a class="link" href="#191"><span class="must-keyword"><strong>MUST</strong></span> not start using deprecated APIs</a></h3>
<div class="paragraph">
<p>Clients must not start using deprecated APIs, API versions, or API features.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="json-guidelines"><a class="link" href="#json-guidelines">8. JSON guidelines</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>These guidelines provides recommendations for defining JSON data at SailPoint.
JSON here refers to <a href="https://tools.ietf.org/html/rfc7159">RFC 7159</a> (which updates <a href="https://tools.ietf.org/html/rfc4627">RFC 4627</a>),
the "application/json" media type and custom JSON media types defined for APIs.
The guidelines clarifies some specific cases to allow SailPoint JSON data to have
an idiomatic form across teams and services.</p>
</div>
<div class="paragraph">
<p>The first some of the following guidelines are about property names, the later
ones about values.</p>
</div>
<div class="sect2">
<h3 id="120"><a class="link" href="#120"><span class="should-keyword"><strong>SHOULD</strong></span> pluralize array names</a></h3>
<div class="paragraph">
<p>Names of arrays should be pluralized to indicate that they contain multiple values.
This implies in turn that object names should be singular.</p>
</div>
</div>
<div class="sect2">
<h3 id="118"><a class="link" href="#118"><span class="must-keyword"><strong>MUST</strong></span> property names must be ASCII camelCase</a></h3>
<div class="paragraph">
<p>Property names are restricted to ASCII strings.  The first character must be a lower case letter, there must not be any spaces, and new words should start with a capital letter instead of a space.  For example, “new client table” would be “newClientTable” in camelCase.</p>
</div>
<div class="paragraph">
<p>“ID” is common in field names, and must be presented in camel case as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If “ID” appears as the first word, then it is entirely lowercase (ex. “id”).</p>
</li>
<li>
<p>If “ID” appears after the first word, then the “I” is capitalized and the “d” is lowercase (ex. “userId”).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="240"><a class="link" href="#240"><span class="must-keyword"><strong>MUST</strong></span> declare enum values using UPPER_SNAKE_CASE string</a></h3>
<div class="paragraph">
<p>Enumerations must be represented as <code>string</code> typed OpenAPI definitions of
request parameters or model properties.
Enum values (using <code>enum</code> or <a href="#112"><code>x-extensible-enum</code></a>) need to consistently use
the upper-snake case format, e.g. <code>VALUE</code> or <code>YET_ANOTHER_VALUE</code>.
This approach allows to clearly distinguish values from properties or other elements.</p>
</div>
<div class="paragraph">
<p><strong>Exception:</strong> This rule does not apply for case sensitive values sourced from outside
API definition scope, e.g. for language codes from <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a>, or when
declaring possible values for a <a href="#137">rule 137</a> [<code>sort</code> parameter].</p>
</div>
</div>
<div class="sect2">
<h3 id="216"><a class="link" href="#216"><span class="should-keyword"><strong>SHOULD</strong></span> define maps using <code>additionalProperties</code></a></h3>
<div class="paragraph">
<p>A "map" here is a mapping from string keys to some other type. In JSON this is
represented as an object, the key-value pairs being represented by property
names and property values. In OpenAPI schema (as well as in JSON schema) they
should be represented using additionalProperties with a schema defining the
value type. Such an object should normally have no other defined properties.</p>
</div>
<div class="paragraph">
<p>The map keys don&#8217;t count as property names in the sense of <a href="#118">rule 118</a>,
and can follow whatever format is natural for their domain. Please document
this in the description of the map object&#8217;s schema.</p>
</div>
<div class="paragraph">
<p>Here is an example for such a map definition (the <code>translations</code> property):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">components</span>:
  <span class="key">schemas</span>:
    <span class="key">Message</span>:
      <span class="key">description</span>:
        <span class="error">A message together with translations in several languages.</span>
      <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
      <span class="key">properties</span>:
        <span class="key">message_key</span>:
          <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
          <span class="key">description</span>: <span class="string"><span class="content">The message key.</span></span>
        <span class="key">translations</span>:
          <span class="key">description</span>:
            <span class="error">The translations of this message into several languages.</span>
            <span class="error">The keys are [IETF BCP-47 language tags](https://tools.ietf.org/html/bcp47).</span>
          <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
          <span class="key">additionalProperties</span>:
            <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
            <span class="key">description</span>:
              <span class="error">the translation of this message into the language identified by the key.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An actual JSON object described by this might then look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{ <span class="key"><span class="delimiter">&quot;</span><span class="content">message_key</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">color</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">translations</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">de</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Farbe</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">en-US</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">color</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">en-GB</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">colour</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">eo</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">koloro</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">nl</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">kleur</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="122"><a class="link" href="#122"><span class="must-keyword"><strong>MUST</strong></span> not use <code>null</code> for boolean properties</a></h3>
<div class="paragraph">
<p>Schema based JSON properties that are by design booleans must not be
presented as nulls. A boolean is essentially a closed enumeration of two
values, true and false. If the content has a meaningful null value,
strongly prefer to replace the boolean with enumeration of named values
or statuses - for example accepted_terms_and_conditions with true or
false can be replaced with terms_and_conditions with values yes, no and
unknown.</p>
</div>
</div>
<div class="sect2">
<h3 id="310"><a class="link" href="#310"><span class="must-keyword"><strong>MUST</strong></span> define a default value for boolean properties <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>All optional boolean properties must have a default value defined. If the property
is required, it is not required to have a default value.</p>
</div>
</div>
<div class="sect2">
<h3 id="311"><a class="link" href="#311"><span class="should-keyword"><strong>SHOULD</strong></span> avoid using qualifying verbs</a></h3>
<div class="paragraph">
<p>Avoid using qualifying verbs, especially on boolean fields, e.g.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Discouraged: isEnabled</p>
</li>
<li>
<p>Recommended: enabled</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="312"><a class="link" href="#312"><span class="should-keyword"><strong>SHOULD</strong></span> use positive semantics for boolean fields</a></h3>
<div class="paragraph">
<p>The name of a Boolean field should preferably express semantics such that true indicates a positive attribute, action, capability, etc.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Discouraged: "disabled": true</p>
</li>
<li>
<p>Recommended: "enabled": false</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="313"><a class="link" href="#313"><span class="must-keyword"><strong>MUST</strong></span> use a field name that suggests the value type when referencing an object</a></h3>
<div class="paragraph">
<p>When a field contains an ID or reference to an foreign object, not the parent object, the field name should suggest the value type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Discouraged: "owner": "2c90b0c06460804b016460f9f59b0015"</p>
</li>
<li>
<p>Recommended: "ownerId": "2c90b0c06460804b016460f9f59b0015"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the following request/response for an account object uses the proper naming for object references.</p>
</div>
<div class="paragraph">
<p>“id” refers to the account object being requested, and all other object references include the object reference name (i.e. sourceId, identityId, etc.)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">id12345</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">aName</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">created</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2019-08-24T14:15:22Z</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">modified</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2019-08-24T14:15:22Z</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">sourceId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2c9180835d2e5168015d32f890ca1581</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">identityId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2c9180835d2e5168015d32f890ca1581</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">attributes</span><span class="delimiter">&quot;</span></span>: { },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">authoritative</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disabled</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">locked</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">nativeIdentity</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">systemAccount</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">uncorrelated</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">uuid</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">manuallyCorrelated</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">hasEntitlements</span><span class="delimiter">&quot;</span></span>: <span class="value">true</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="314"><a class="link" href="#314"><span class="should-keyword"><strong>SHOULD</strong></span> name references to foreign objects as &lt;objectName&gt;Ref</a></h3>
<div class="ulist">
<ul>
<li>
<p>Discouraged: "launcher": "frank.dogs"</p>
</li>
<li>
<p>Recommended: "launcherRef": {"resource": "identities", "type": "ALIAS", "value": "frank.dogs"}</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2c9180857182305e0171993735622948</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Alison Ferguso</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">alias</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">alison.ferguso</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">email</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">alison.ferguso@acme-solar.com</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">status</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Active</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">managerRef</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">IDENTITY</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2c9180a46faadee4016fb4e018c20639</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Thomas Edison</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">attributes</span><span class="delimiter">&quot;</span></span>:[]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="315"><a class="link" href="#315"><span class="should-keyword"><strong>SHOULD</strong></span> avoid using nested objects</a></h3>
<div class="paragraph">
<p>In general, we discourage nesting DTOs inside others. This has typically led to bloated DTOs and made it complicated to
enforce authorization requirements and other business rules around those nested objects. It is preferable instead for the
DTO to have a field containing an id or reference that allows the nested object to be separately fetched.</p>
</div>
<div class="paragraph">
<p>It is recognized, of course, that particular use cases may require nesting objects inside each other. For example, if a
UI module needs to display data from a set of 100 IdentityRequests and their child IdentityRequestItems, it makes no
sense to require the UI to make one API call to get the list of IdentityRequests and then 100 additional calls to get the
IdentityRequestItems for each.</p>
</div>
<div class="paragraph">
<p>It is preferable in these cases to use a summary DTO for the nested objects that contains the minimum amount of detail
required to support the known or plausible use case(s). For example, if the only reason I need to include the owner of
an object is so the caller can display their first and last name, then it is better to do something like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="error">.</span><span class="error">.</span><span class="error">.</span>
    <span class="key"><span class="delimiter">&quot;</span><span class="content">owner</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">IDENTITY</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2c90b0c06460804b016460f9f59b001</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Frank</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">lastName</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Dogs</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>One particular valid use of nested objects occurs when a DTO abstracts over a set of types that may have significantly
different attributes. In this case the non-general fields of the DTO should be pushed down to a nested object, with a
type field on the main object being used as a discriminator. For example, if a DTO could represent either an Access Profile
or a Role, the former case could be implemented as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
     <span class="error">.</span><span class="error">.</span><span class="error">.</span>
     <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ACCESS_PROFILE</span><span class="delimiter">&quot;</span></span>,
     <span class="error">.</span><span class="error">.</span><span class="error">.</span>
     <span class="key"><span class="delimiter">&quot;</span><span class="content">accessProfileInfo</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">appRefs</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">app1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">app2</span><span class="delimiter">&quot;</span></span>]
     },
     <span class="key"><span class="delimiter">&quot;</span><span class="content">roleInfo</span><span class="delimiter">&quot;</span></span>: <span class="value">null</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="316"><a class="link" href="#316"><span class="must-keyword"><strong>MUST</strong></span> define a default for optional values</a></h3>
<div class="paragraph">
<p>All properties must define a default value for optional properties.  This must documented in the specification so clients
know what value will be used should they ignore a property.</p>
</div>
</div>
<div class="sect2">
<h3 id="317"><a class="link" href="#317"><span class="must-keyword"><strong>MUST</strong></span> define the “required” attribute for request/response objects and parameters <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>All request/response schemas MUST define the “required” attribute for each property and parameter per the OpenAPI specification.</p>
</div>
<div class="paragraph">
<p>For request/response objects, see <a href="https://swagger.io/docs/specification/data-models/data-types/#required" class="bare">https://swagger.io/docs/specification/data-models/data-types/#required</a>. If all properties within an object are optional, then the "required" attribute may be omitted.</p>
</div>
<div class="paragraph">
<p>For path and query parameters, see <a href="https://swagger.io/docs/specification/describing-parameters/" class="bare">https://swagger.io/docs/specification/describing-parameters/</a></p>
</div>
<div class="paragraph">
<p>Generally, query parameters should be optional, but there are cases where a query parameter is required.  In these cases,
make sure to set the “required” attribute for the query parameters to true.</p>
</div>
</div>
<div class="sect2">
<h3 id="123"><a class="link" href="#123"><span class="must-keyword"><strong>MUST</strong></span> use same semantics for <code>null</code> and absent properties</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="318"><a class="link" href="#318"><span class="must-keyword"><strong>MUST</strong></span> use the “nullable” attribute for properties that can be null</a></h3>
<div class="paragraph">
<p>If a property or parameter can return <code>null</code>, then it must have the <code>nullable: true</code> OpenAPI property.</p>
</div>
</div>
<div class="sect2">
<h3 id="124"><a class="link" href="#124"><span class="must-keyword"><strong>MUST</strong></span> not use <code>null</code> for empty arrays</a></h3>
<div class="paragraph">
<p>Empty array values can unambiguously be represented as the empty list, <code>[]</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="126"><a class="link" href="#126"><span class="should-keyword"><strong>SHOULD</strong></span> define dates properties compliant with RFC 3339</a></h3>
<div class="paragraph">
<p>Use the date and time formats defined by <a href="https://tools.ietf.org/html/rfc3339#section-5.6">RFC 3339</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for "date" use strings matching
<code>date-fullyear "-" date-month "-" date-mday</code>, for example: <code>2015-05-28</code></p>
</li>
<li>
<p>for "date-time" use strings matching <code>full-date "T" full-time</code>, for
example <code>2015-05-28T14:07:17Z</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types">OpenAPI format</a>
"date-time" corresponds to "date-time" in the RFC) and <code>2015-05-28</code>
for a date (note that the OpenAPI format "date" corresponds to "full-date" in
the RFC). Both are specific profiles, a subset of the international standard
<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>.</p>
</div>
<div class="paragraph">
<p>A zone offset may be used (both, in request and responses)&#8201;&#8212;&#8201;this is simply
defined by the standards. However, we encourage restricting dates to UTC and
without offsets. For example <code>2015-05-28T14:07:17Z</code> rather than
<code>2015-05-28T14:07:17+00:00</code>. From experience we have learned that zone offsets
are not easy to understand and often not correctly handled. Note also that
zone offsets are different from local times that might be including daylight
saving time. Localization of dates should be done by the services that provide
user interfaces, if required.</p>
</div>
<div class="paragraph">
<p>When it comes to storage, all dates should be consistently stored in UTC
without a zone offset. Localization should be done locally by the services that
provide user interfaces, if required.</p>
</div>
<div class="paragraph">
<p>Sometimes it can seem data is naturally represented using numerical timestamps,
but this can introduce interpretation issues with precision, e.g. whether to
represent a timestamp as 1460062925, 1460062925000 or 1460062925.000. Date
strings, though more verbose and requiring more effort to parse, avoid this
ambiguity.</p>
</div>
</div>
<div class="sect2">
<h3 id="127"><a class="link" href="#127"><span class="should-keyword"><strong>SHOULD</strong></span> define time durations and intervals properties conform to ISO 8601</a></h3>
<div class="paragraph">
<p>Schema based JSON properties that are by design durations and intervals could
be strings formatted as recommended by <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>
(<a href="https://tools.ietf.org/html/rfc3339#appendix-A">Appendix A of RFC 3339 contains a grammar</a> for durations).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-formats"><a class="link" href="#data-formats">9. Data formats</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="167"><a class="link" href="#167"><span class="must-keyword"><strong>MUST</strong></span> use JSON as payload data interchange format</a></h3>
<div class="paragraph">
<p>Use JSON (<a href="https://tools.ietf.org/html/rfc7159">RFC 7159</a>) to represent structured (resource) data
passed with HTTP requests and responses as body payload.
The JSON payload must use a JSON object as top-level data
structure (if possible) to allow for future extension. This also applies to
collection resources, where you ad-hoc would use an array&#8201;&#8212;&#8201;see also
<a href="#110"><span class="must-keyword"><strong>MUST</strong></span> always return JSON objects as top-level data structures</a>.</p>
</div>
<div class="paragraph">
<p>Additionally, the JSON payload must comply to the more restrictive Internet JSON (<a href="https://tools.ietf.org/html/rfc7493">RFC 7493</a>),
particularly</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://tools.ietf.org/html/rfc7493#section-2.1">Section 2.1</a> on encoding of characters, and</p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7493#section-2.3">Section 2.3</a> on object constraints.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a consequence, a JSON payload must</p>
</div>
<div class="ulist">
<ul>
<li>
<p>use <a href="https://tools.ietf.org/html/rfc7493#section-2.1"><code>UTF-8</code> encoding</a></p>
</li>
<li>
<p>consist of <a href="https://tools.ietf.org/html/rfc7493#section-2.1">valid Unicode strings</a>, i.e. must not
contain non-characters or surrogates, and</p>
</li>
<li>
<p>contain only <a href="https://tools.ietf.org/html/rfc7493#section-2.3">unique member names</a> (no duplicate
names).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="168"><a class="link" href="#168"><span class="may-keyword"><strong>MAY</strong></span> pass non-JSON media types using data specific standard formats</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="172"><a class="link" href="#172"><span class="should-keyword"><strong>SHOULD</strong></span> use standard media types</a></h3>
<div class="paragraph">
<p>You should use standard media types (defined in <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">media type registry</a>
of Internet Assigned Numbers Authority (IANA)) as <code>content-type</code> (or <code>accept</code>) header
information. More specifically, for JSON payload you should use the standard media type
<code>application/json</code> (or <code>application/problem+json</code> for <a href="#176"><span class="must-keyword"><strong>MUST</strong></span> support problem JSON</a>).</p>
</div>
<div class="paragraph">
<p>You should avoid using custom media types like <code>application/x.sailpoint.article+json</code>.
Custom media types beginning with <code>x</code> bring no advantage compared to the
standard media type for JSON, and make automated processing more difficult.</p>
</div>
<div class="sect3">
<h4 id="239"><a class="link" href="#239"><span class="must-keyword"><strong>MUST</strong></span> encode embedded binary data in <code>base64url</code></a></h4>
<div class="paragraph">
<p>Exposing binary data using an alternative media type is generally preferred.
See <a href="#168">the rule above</a>.</p>
</div>
<div class="paragraph">
<p>If an alternative content representation is not desired then binary data should
be embedded into the JSON document as a <code>base64url</code>-encoded string property
following <a href="https://tools.ietf.org/html/rfc7493#section-4.4">RFC 7493 Section 4.4</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="238"><a class="link" href="#238"><span class="must-keyword"><strong>MUST</strong></span> use standardized property formats</a></h3>
<div class="paragraph">
<p><a href="https://json-schema.org/understanding-json-schema/reference/string.html#format">JSON Schema</a>
and <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md#data-types">OpenAPI</a>
define several data formats, e.g. <code>date</code>, <code>time</code>, <code>email</code>, and <code>url</code>, based on ISO and IETF standards.
The following table lists these formats including additional formats useful in an e-commerce environment.
You <strong>should</strong> use these formats, whenever applicable.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>type</code></th>
<th class="tableblock halign-left valign-top"><code>format</code></th>
<th class="tableblock halign-left valign-top">Specification</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#171"><code>int32</code></a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7721071004</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#171"><code>int64</code></a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>772107100456824</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#171"><code>bigint</code></a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>77210710045682438959</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>number</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#171"><code>float</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754-2008</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.1415927</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>number</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#171"><code>double</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754-2008</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.141592653589793</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>number</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#171"><code>decimal</code></a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.141592653589793238462643383279</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#170"><code>bcp47</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/bcp47">BCP 47</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"en-DE"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc7493">RFC 7493</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"dGVzdA=="</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#126"><code>date</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2019-07-30"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#126"><code>date-time</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2019-07-30T06:43:40.252Z"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>email</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc5322">RFC 5322</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"<a href="mailto:example@sailpoint.de">example@sailpoint.de</a>"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gtin-13</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Global_Trade_Item_Number">GTIN</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"5710798389878"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc1034">RFC 1034</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"www.sailpoint.de"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ipv4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc2673">RFC 2673</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"104.75.173.179"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ipv6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc2673">RFC 2673</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2600:1401:2::8a"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#170"><code>iso-3166</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"DE"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#173"><code>iso-4217</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"EUR"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#170"><code>iso-639</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"de"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json-pointer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc6901">RFC 6901</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"/items/0/id"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"secret"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>regex</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf">ECMA 262</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"^[a-z0-9]+$"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#126"><code>time</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"06:43:40.252Z"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc3986">RFC 3986</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"https://www.sailpoint.de/"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri-template</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc6570">RFC 6570</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"/users/{id}"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uuid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tools.ietf.org/html/rfc4122">RFC 4122</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"e2ab873e-b295-11e9-9c02-&#8230;&#8203;"</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Remark:</strong> Please note that this list of standard data formats is not exhaustive
and everyone is encouraged to propose additions.</p>
</div>
</div>
<div class="sect2">
<h3 id="169"><a class="link" href="#169"><span class="must-keyword"><strong>MUST</strong></span> use standard date and time formats</a></h3>
<div class="sect3">
<h4 id="json-payload"><a class="link" href="#json-payload">JSON payload</a></h4>
<div class="paragraph">
<p>Read more about date and time format in <a href="#126"><span class="should-keyword"><strong>SHOULD</strong></span> define dates properties compliant with RFC 3339</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="http-headers"><a class="link" href="#http-headers">HTTP headers</a></h4>
<div class="paragraph">
<p>Http headers including the proprietary headers use the
<a href="https://tools.ietf.org/html/rfc7231#section-7.1.1.1">HTTP date format defined in RFC 7231</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="170"><a class="link" href="#170"><span class="must-keyword"><strong>MUST</strong></span> use standards for country, language and currency codes</a></h3>
<div class="paragraph">
<p>Use the following standard formats for country, language and currency
codes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Country codes: <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1-alpha2</a> two letter country codes</p>
<div class="ulist">
<ul>
<li>
<p>Hint: It is "GB", not "UK", even though "UK" has seen some use at sailpoint</p>
</li>
</ul>
</div>
</li>
<li>
<p>Language codes: <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a> two letter language codes</p>
</li>
<li>
<p>Language variant tags: <a href="https://tools.ietf.org/html/bcp47">BCP 47</a></p>
<div class="ulist">
<ul>
<li>
<p>It is a compatible extension of <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a>, providing additional
information for language usage, like region (using <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1</a>),
variant, script and others.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Currency codes:  <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> three letter currency codes</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="171"><a class="link" href="#171"><span class="must-keyword"><strong>MUST</strong></span> define format for number and integer types <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>Whenever an API defines a property of type <code>number</code> or <code>integer</code>, the
precision must be defined by the format as follows to prevent clients
from guessing the precision incorrectly, and thereby changing the value
unintentionally:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">type</th>
<th class="tableblock halign-left valign-top">format</th>
<th class="tableblock halign-left valign-top">specified value range</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer between -2<sup>31</sup> and 2<sup>31</sup>-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer between -2<sup>63</sup> and 2<sup>63</sup>-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bigint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arbitrarily large signed integer number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754-2008/ISO 60559:2011</a> binary32 decimal number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754-2008/ISO 60559:2011</a> binary64 decimal number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arbitrarily precise signed decimal number</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The precision must be translated by clients and servers into the most
specific language types. E.g. for the following definitions the most
specific language types in Java will translate to <code>BigDecimal</code> for
<code>Money.amount</code> and <code>int</code> or <code>Integer</code> for the <code>OrderList.page_size</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">components</span>:
  <span class="key">schemas</span>:
    <span class="key">Money</span>:
      <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
      <span class="key">properties</span>:
        <span class="key">amount</span>:
          <span class="key">type</span>: <span class="string"><span class="content">number</span></span>
          <span class="key">description</span>: <span class="string"><span class="content">Amount expressed as a decimal number of major currency units</span></span>
          <span class="key">format</span>: <span class="string"><span class="content">decimal</span></span>
          <span class="key">example</span>: <span class="string"><span class="content">99.95</span></span>
       <span class="error">...</span>

    <span class="key">OrderList</span>:
      <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
      <span class="key">properties</span>:
        <span class="key">page_size</span>:
          <span class="key">type</span>: <span class="string"><span class="content">integer</span></span>
          <span class="key">description</span>: <span class="string"><span class="content">Number of orders in list</span></span>
          <span class="key">format</span>: <span class="string"><span class="content">int32</span></span>
          <span class="key">example</span>: <span class="string"><span class="content">42</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="324"><a class="link" href="#324"><span class="must-keyword"><strong>MUST</strong></span> use proper description format for the <code>filters</code> query param</a></h3>
<div class="paragraph">
<p>The OpenAPI specification does not provide dedicated properties for defining filters,
so filters must be defined in the description of the <code>filters</code> query param.  Our users
and our tooling rely on filter descriptions following a strict format.  The following
snippet is an example of how to properly format the description for <code>filters</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">in</span>: <span class="string"><span class="content">query</span></span>
<span class="key">name</span>: <span class="string"><span class="content">filters</span></span>
<span class="key">schema</span>:
  <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
<span class="key">description</span>: <span class="string"><span class="delimiter">&gt;-</span><span class="content">
  Filter results using the standard syntax described in [V3 API Standard Collection Parameters](https://developer.sailpoint.com/idn/api/standard-collection-parameters#filtering-results)


  Filtering is supported for the following fields and operators:


  **id**: *eq, in*


  **name**: *eq, sw*


  **created**: *gt, lt, ge, le*


  **modified**: *gt, lt, ge, le*


  **owner.id**: *eq, in*


  **requestable**: *eq*


  **source.id**: *eq, in*</span></span>
<span class="key">example</span>: <span class="string"><span class="content">name eq &quot;SailPoint Support&quot;</span></span>
<span class="key">required</span>: <span class="string"><span class="content">false</span></span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Always include the first two lines in your description to point users towards the extended documenation.</p>
</li>
<li>
<p>Always use two new lines between lines. The use of one new line will result in the text not displaying on separate lines in the API documentaiton.</p>
</li>
<li>
<p>Always bold the property name using two asterisks before and after the name.</p>
</li>
<li>
<p>Only document one property per line.</p>
</li>
<li>
<p>Always italicize the operators by using a single asterisk before an after the list of operators.</p>
</li>
<li>
<p>Only use the operators <a href="https://developer.sailpoint.com/idn/api/standard-collection-parameters#filter-syntax">listed here</a>. If you are introducing a new operator not in the list, please contact the Developer Relations team to update the list.</p>
</li>
<li>
<p>Always use a comma and a space to separate operators.</p>
</li>
<li>
<p>Do not add any additional text in the description, such as examples, clarifications, etc.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="325"><a class="link" href="#325"><span class="must-keyword"><strong>MUST</strong></span> use proper description format for the <code>sorters</code> query param</a></h3>
<div class="paragraph">
<p>The OpenAPI specification does not provide dedicated properties for defining sorter,
so sorters must be defined in the description of the <code>sorters</code> query param.  Our users
and our tooling rely on sorter descriptions following a strict format.  The following
snippet is an example of how to properly format the description for <code>sorters</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">in</span>: <span class="string"><span class="content">query</span></span>
<span class="key">name</span>: <span class="string"><span class="content">sorters</span></span>
<span class="key">schema</span>:
  <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
  <span class="key">format</span>: <span class="string"><span class="content">comma-separated</span></span>
<span class="key">description</span>: <span class="string"><span class="delimiter">&gt;-</span><span class="content">
  Sort results using the standard syntax described in [V3 API Standard Collection Parameters](https://developer.sailpoint.com/idn/api/standard-collection-parameters#sorting-results)


  Sorting is supported for the following fields: **name, created, modified**</span></span>
<span class="key">example</span>: <span class="string"><span class="content">name,-modified</span></span>
<span class="key">required</span>: <span class="string"><span class="content">false</span></span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Always include the first line in your description to point users towards the extended documenation.</p>
</li>
<li>
<p>Always use two new lines between lines. The use of one new line will result in the text not displaying on separate lines in the API documentaiton.</p>
</li>
<li>
<p>The second line must start with "Sorting is supported for the following fields:"</p>
</li>
<li>
<p>Wrap all supported properties in double asterisks to make them bold.</p>
</li>
<li>
<p>Use a comma and a space to separate supported properties.</p>
</li>
<li>
<p>Do not add any additional lines or text in the description. There should only be two lines: the extended documentation and the list of supporter properties.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="common-data-types"><a class="link" href="#common-data-types">10. Common data types</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Definitions of data objects that are good candidates for wider usage. Below you can find a list of common data types
used in the guideline:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#173">Money object</a></p>
</li>
<li>
<p><a href="#176">Problem object</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="173"><a class="link" href="#173"><span class="must-keyword"><strong>MUST</strong></span> use the common money object</a></h3>
<div class="paragraph">
<p>Use the following common money structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">Money</span>:
  <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
  <span class="key">properties</span>:
    <span class="key">amount</span>:
      <span class="key">type</span>: <span class="string"><span class="content">number</span></span>
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
        The amount describes unit and subunit of the currency in a single value,
        where the integer part (digits before the decimal point) is for the
        major unit and fractional part (digits after the decimal point) is for
        the minor unit.</span></span>
      <span class="key">format</span>: <span class="string"><span class="content">decimal</span></span>
      <span class="key">example</span>: <span class="string"><span class="content">99.95</span></span>
    <span class="key">currency</span>:
      <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
      <span class="key">description</span>: <span class="string"><span class="content">3 letter currency code as defined by ISO-4217</span></span>
      <span class="key">format</span>: <span class="string"><span class="content">iso-4217</span></span>
      <span class="key">example</span>: <span class="string"><span class="content">EUR</span></span>
  <span class="key">required</span>:
    - <span class="string"><span class="content">amount</span></span>
    - <span class="string"><span class="content">currency</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>APIs are encouraged to include a reference to the global schema for Money.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">SalesOrder</span>:
  <span class="key">properties</span>:
    <span class="key">grand_total</span>:
      <span class="error">$ref</span>: <span class="error">'https://sailpoint-oss.github.io/sailpoint-api-guidelines/money-1.0.0.yaml#/Money'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Please note that APIs have to treat Money as a closed data type, i.e. it&#8217;s not meant to be used in an inheritance hierarchy. That means the following usage is not allowed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">amount</span><span class="delimiter">&quot;</span></span>: <span class="float">19.99</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">currency</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">EUR</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">discounted_amount</span><span class="delimiter">&quot;</span></span>: <span class="float">9.99</span>
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_cons"><a class="link" href="#_cons">Cons</a></h4>
<div class="ulist">
<ul>
<li>
<p>Violates the <a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle">Liskov Substitution Principle</a></p>
</li>
<li>
<p>Breaks existing library support, e.g. <a href="https://github.com/zalando/jackson-datatype-money">Jackson Datatype Money</a></p>
</li>
<li>
<p>Less flexible since both amounts are coupled together, e.g. mixed currencies are impossible</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A better approach is to favor <a href="https://en.wikipedia.org/wiki/Composition_over_inheritance">composition over inheritance</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">price</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">amount</span><span class="delimiter">&quot;</span></span>: <span class="float">19.99</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">currency</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">EUR</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">discounted_price</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">amount</span><span class="delimiter">&quot;</span></span>: <span class="float">9.99</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">currency</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">EUR</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pros"><a class="link" href="#_pros">Pros</a></h4>
<div class="ulist">
<ul>
<li>
<p>No inheritance, hence no issue with the substitution principle</p>
</li>
<li>
<p>Makes use of existing library support</p>
</li>
<li>
<p>No coupling, i.e. mixed currencies is an option</p>
</li>
<li>
<p>Prices are now self-describing, atomic values</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_notes"><a class="link" href="#_notes">Notes</a></h4>
<div class="paragraph">
<p>Please be aware that some business cases (e.g. transactions in Bitcoin) call for a higher precision, so applications must be prepared to accept values with unlimited precision, unless explicitly stated otherwise in the API specification.</p>
</div>
<div class="paragraph">
<p>Examples for correct representations (in EUR):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>42.20</code> or <code>42.2</code> = 42 Euros, 20 Cent</p>
</li>
<li>
<p><code>0.23</code> = 23 Cent</p>
</li>
<li>
<p><code>42.0</code> or <code>42</code> = 42 Euros</p>
</li>
<li>
<p><code>1024.42</code> = 1024 Euros, 42 Cent</p>
</li>
<li>
<p><code>1024.4225</code> = 1024 Euros, 42.25 Cent</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Make sure that you don’t convert the "amount" field to <code>float</code> /
<code>double</code> types when implementing this interface in a specific language
or when doing calculations. Otherwise, you might lose precision.
Instead, use exact formats like Java’s
<a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html"><code>BigDecimal</code></a>.
See <a href="http://stackoverflow.com/a/3730040/342852">Stack Overflow</a> for more
info.</p>
</div>
<div class="paragraph">
<p>Some JSON parsers (NodeJS’s, for example) convert numbers to floats by default.
After discussing the pros and cons we’ve decided on "decimal" as our amount
format. It is not a standard OpenAPI format, but should help us to avoid parsing
numbers as float / doubles.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="174"><a class="link" href="#174"><span class="must-keyword"><strong>MUST</strong></span> use common field names and semantics</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api-naming"><a class="link" href="#api-naming">11. API naming</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="223"><a class="link" href="#223"><span class="must-keyword"><strong>MUST</strong></span>/<span class="should-keyword"><strong>SHOULD</strong></span> use functional naming schema</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="129"><a class="link" href="#129"><span class="must-keyword"><strong>MUST</strong></span> use lowercase separate words with hyphens for path segments</a></h3>
<div class="ulist">
<ul>
<li>
<p>Use kebab-case for path segments</p>
</li>
<li>
<p>Use {camelCase} with surrounding brackets to indicate path parameters</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">/shipment-orders/{shipmentOrderId}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="130"><a class="link" href="#130"><span class="must-keyword"><strong>MUST</strong></span> camelCase for query parameters</a></h3>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>customerNumber, orderId, billingAddress</code></pre>
</div>
</div>
<div class="paragraph">
<p>We need to have a consistent look and feel for our APIs.  In the case of query parameters,
which can reference actual properties in the response object, camelCase preserves a consistent look and feel.</p>
</div>
</div>
<div class="sect2">
<h3 id="134"><a class="link" href="#134"><span class="must-keyword"><strong>MUST</strong></span> pluralize resource names</a></h3>
<div class="paragraph">
<p>When defining a path segment for a collection, the resource name must be plural to indicate it is a collection of resources.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>/users</code>, <code>/companies/{companyId}/employees/{employeeId}</code></p>
</div>
</div>
<div class="sect2">
<h3 id="135"><a class="link" href="#135"><span class="must-keyword"><strong>MUST</strong></span> not use <code>/api</code> as base path</a></h3>
<div class="paragraph">
<p>In most cases, all resources provided by a service are part of the
public API, and therefore should be made available under the root "/"
base path.</p>
</div>
<div class="paragraph">
<p>If the service should also support non-public, internal APIs
— for specific operational support functions, for example — we encourage
you to maintain two different API specifications and provide
<a href="#219">API audience</a>. For both APIs, you should not use <code>/api</code> as base path.</p>
</div>
<div class="paragraph">
<p>We see API&#8217;s base path as a part of deployment variant configuration.
Therefore, this information has to be declared in the
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md#server-object">server object</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="136"><a class="link" href="#136"><span class="must-keyword"><strong>MUST</strong></span> use normalized paths without empty path segments and trailing slashes</a></h3>
<div class="paragraph">
<p>You must not specify paths with duplicate or trailing slashes, e.g.
<code>/customers//addresses</code> or <code>/customers/</code>. As a consequence, you must also not
specify or use path variables with empty string values.</p>
</div>
<div class="paragraph">
<p><strong>Reasoning:</strong> Non standard paths have no clear semantics. As a result, behavior
for non standard paths varies between different HTTP infrastructure components
and libraries. This may leads to ambiguous and unexpected results during
request handling and monitoring.</p>
</div>
<div class="paragraph">
<p>We recommend to implement services robust against clients not following this
rule. All services <strong>should</strong> <a href="https://en.wikipedia.org/wiki/URI_normalization">normalize</a>
request paths before processing by removing duplicate and trailing slashes.
Hence, the following requests should refer to the same resource:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">GET /orders/{orderId}
GET /orders/{orderId}/
GET /orders//{orderId}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> path normalization is not supported by all framework out-of-the-box.
Services are required to support at least the normalized path while rejecting
all alternatives paths, if failing to deliver the same resource.</p>
</div>
</div>
<div class="sect2">
<h3 id="137"><a class="link" href="#137"><span class="must-keyword"><strong>MUST</strong></span> stick to conventional query parameters</a></h3>
<div class="paragraph">
<p>If you provide query support for searching, sorting, filtering, and
paginating, you must stick to the following naming conventions:</p>
</div>
<div class="paragraph">
<p>Pagination</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>limit</code>: Integer that specifies the maximum number of results to return. If not specified a default limit will be used.</p>
</li>
<li>
<p><code>offset</code>: Integer that specifies the offset of the first result from the beginning of the collection</p>
</li>
<li>
<p><code>count</code>: Boolean that indicates whether a total count will be returned, factoring in any filter parameters, in the X-Total-Count response header.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>filters</code>: an item will only be included in the returned array if the filters expression evaluates
to true for that item.  Each endpoint that implements filters must clearly define in the API
spec what operations and fields are supported.</p>
</div>
<div class="paragraph">
<p><code>sorters</code>: a set of comma-separated field names. Each field name may be optionally prefixed with a "-"
character, which indicates the sort is descending based on the value of that field. Otherwise, the sort
is ascending.  Each endpoint that implements sorters must clearly define which fields are supported.</p>
</div>
<div class="paragraph">
<p>See <a href="https://developer.sailpoint.com/docs/api/standard-collection-parameters/#paginating-results" class="bare">https://developer.sailpoint.com/docs/api/standard-collection-parameters/#paginating-results</a>
for implementation details for each of the above parameters.</p>
</div>
<div class="paragraph">
<p>Note:  Additional query parameters are allowed, but effort should be made to fit them within the five listed above.</p>
</div>
</div>
<div class="sect2">
<h3 id="319"><a class="link" href="#319"><span class="must-keyword"><strong>MUST</strong></span> Customer org name must never appear in the path of public APIs</a></h3>
<div class="paragraph">
<p>The customer organization is provided in the session context that is generated on the back end, and therefore does not need to be in the URL.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="resources"><a class="link" href="#resources">12. Resources</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="138"><a class="link" href="#138"><span class="should-keyword"><strong>SHOULD</strong></span> avoid actions — think about resources</a></h3>
<div class="paragraph">
<p>REST is all about your resources, so consider the domain entities that take part in web service interaction,
and aim to model your API around these using the standard HTTP methods as operation indicators.  For example,
rather than creating a specific action for completing a certification campaign, prefer to use PATCH to
update the completed status of the campaign.</p>
</div>
<div class="paragraph">
<p>Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">PATCH v1/campaigns/{campaignId}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Body</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="error">“</span><span class="error">c</span><span class="error">o</span><span class="error">m</span><span class="error">p</span><span class="error">l</span><span class="error">e</span><span class="error">t</span><span class="error">e</span><span class="error">d</span><span class="error">”</span>: <span class="value">true</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sometimes, standard HTTP methods aren’t specific enough to indicate the action you wish to perform on a
resource, or there is complex business logic on the back end that can’t be satisfied by PATCHing a single
field.  In these cases, it is advisable to use the following URI format for specific resource actions:</p>
</div>
<div class="paragraph">
<p>Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">POST v1/campaigns/{campaignId}/remediation-scan</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="139"><a class="link" href="#139"><span class="should-keyword"><strong>SHOULD</strong></span> model complete business processes</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="140"><a class="link" href="#140"><span class="should-keyword"><strong>SHOULD</strong></span> define <em>useful</em> resources</a></h3>
<div class="paragraph">
<p>As a rule of thumb resources should be defined to cover 90% of all its client&#8217;s
use cases. A <em>useful</em> resource should contain as much information as necessary,
but as little as possible. A great way to support the last 10% is to allow
clients to specify their needs for more/less information by supporting
filtering and <a href="#157">embedding</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="141"><a class="link" href="#141"><span class="should-keyword"><strong>SHOULD</strong></span> keep URLs verb-free</a></h3>
<div class="paragraph">
<p>The API describes resources, so the only place where actions should appear is
in the HTTP methods. In URLs, use only nouns. Instead of thinking of actions
(verbs), it&#8217;s often helpful to think about putting a message in a letter box:
e.g., instead of having the verb <em>cancel</em> in the url, think of sending a
message to cancel an order to the <em>cancellations</em> letter box on the server
side.</p>
</div>
</div>
<div class="sect2">
<h3 id="142"><a class="link" href="#142"><span class="must-keyword"><strong>MUST</strong></span> use domain-specific resource names</a></h3>
<div class="paragraph">
<p>API resources represent elements of the application’s domain model. Using
domain-specific nomenclature for resource names helps developers to understand
the functionality and basic semantics of your resources. It also reduces the
need for further documentation outside the API definition. For example,
"sales-order-items" is superior to "order-items" in that it clearly indicates
which business object it represents. Along these lines, "items" is too general.</p>
</div>
</div>
<div class="sect2">
<h3 id="228"><a class="link" href="#228"><span class="must-keyword"><strong>MUST</strong></span> use URL-friendly resource identifiers: [a-zA-Z0-9:._\-/]*</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="143"><a class="link" href="#143"><span class="must-keyword"><strong>MUST</strong></span> identify resources and sub-resources via path segments</a></h3>
<div class="paragraph">
<p>Some API resources may contain or reference sub-resources. Sub-resources should be
referenced by their name and identifier in the path segments as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">/resources/{resourceId}/sub-resources/{subResourceId}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to improve the consumer experience, you should aim for intuitively
understandable URLs, where each sub-path is a valid reference to a resource or
a set of resources. For instance, if
<code>/partners/{partnerId}/addresses/{addressId}</code> is valid, then, in principle,
also <code>/partners/{partnerId}/addresses</code>, <code>/partners/{partnerId}</code> and
<code>/partners</code> must be valid. Examples of concrete url paths:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">/shopping-carts/de:1681e6b88ec1/items/1
/shopping-carts/de:1681e6b88ec1
/content/images/9cacb4d8
/content/images</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> resource identifiers may be build of multiple other resource
identifiers.</p>
</div>
<div class="paragraph">
<p><strong>Exception:</strong> In some situations the resource identifier is not passed as a
path segment but  via the authorization information, e.g. an authorization
token or session cookie. Here, it is reasonable to use <strong><code>self</code></strong> as
<em>pseudo-identifier</em> path segment. For instance, you may define <code>/employees/self</code>
or <code>/employees/self/personal-details</code> as resource paths&#8201;&#8212;&#8201; and may additionally
define endpoints that support identifier passing in the resource path, like
define <code>/employees/{emplId}</code> or <code>/employees/{emplId}/personal-details</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="145"><a class="link" href="#145"><span class="should-keyword"><strong>SHOULD</strong></span> consider using (non-)nested URLs</a></h3>
<div class="paragraph">
<p>If a sub-resource is only accessible via its parent resource and may not exist
without parent resource, consider using a nested URL structure, for instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">/shoping-carts/de/1681e6b88ec1/cart-items/1</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, if the resource can be accessed directly via its unique id, then the
API should expose it as a top-level resource. For example, customer has a
collection for sales orders; however, sales orders have globally unique id and
some services may choose to access the orders directly, for instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">/customers/1637asikzec1
/sales-orders/5273gh3k525a</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="320"><a class="link" href="#320"><span class="must-keyword"><strong>MUST</strong></span> not use sequential, numerical IDs</a></h3>
<div class="paragraph">
<p>Numerical, sequential IDs are considered a security risk because malicious actors can
enumerate through the IDs to obtain unauthorized information.  API producers must
use GUIDs or natural keys that aren’t sequential.</p>
</div>
</div>
<div class="sect2">
<h3 id="146"><a class="link" href="#146"><span class="should-keyword"><strong>SHOULD</strong></span> limit number of resource types</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="147"><a class="link" href="#147"><span class="should-keyword"><strong>SHOULD</strong></span> limit number of sub-resource levels</a></h3>
<div class="paragraph">
<p>There are main resources (with root url paths) and sub-resources (or <em>nested</em>
resources with non-root urls paths). Use sub-resources if their life cycle is
(loosely) coupled to the main resource, i.e. the main resource works as
collection resource of the subresource entities. You should use &#8656; 3
sub-resource (nesting) levels&#8201;&#8212;&#8201;more levels increase API complexity and url
path length. (Remember, some popular web browsers do not support URLs of more
than 2000 characters.)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http-requests"><a class="link" href="#http-requests">13. HTTP requests and responses</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="148"><a class="link" href="#148"><span class="must-keyword"><strong>MUST</strong></span> use HTTP methods correctly</a></h3>
<div class="paragraph">
<p>Be compliant with the standardized HTTP method semantics summarized as follows:</p>
</div>
<div class="sect3">
<h4 id="creating-an-object"><a class="link" href="#creating-an-object">Creating an Object</a></h4>
<div class="paragraph">
<p><a href="#post"><code>POST</code></a> requests are idiomatically used to <strong>create</strong> single resources on a
collection resource endpoint, but other semantics on single resources endpoint
are equally possible. The semantic for collection endpoints is best described
as <em>"please add the enclosed representation to the collection resource
identified by the URL"</em>. The semantic for single resource endpoints is best described
as <em>"please execute the given well specified request on the resource identified
by the URL"</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Modeled as <code>POST /&#8230;&#8203;/plural-noun</code>, where <code>plural-noun</code> indicates the type of object being created.</p>
</li>
<li>
<p>on a successful POST request, the server will create one or multiple new resources and provide their URI/URLs in the response</p>
</li>
<li>
<p>successful POST requests will usually generate 200 (if resources have been updated), 201 (if resources have been created),
202 (if the request was accepted but has not been finished yet), and exceptionally 204 with Location header (if the actual resource is not returned).</p>
</li>
<li>
<p>If the POST is used to create or update a resource, then the response payload needs to include every field from the request, and may include additional fields.</p>
</li>
<li>
<p>If the POST is used as an action, then the response may be different from the request schema.</p>
</li>
<li>
<p>Specifying a value for a system-generated field in the input results in a 400 Bad Request response.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> By using <a href="#post"><code>POST</code></a> to create resources the resource ID must not be passed as
request input date by the client, but created and maintained by the service and
returned with the response payload.</p>
</div>
<div class="paragraph">
<p>Apart from resource creation, <a href="#post"><code>POST</code></a> should be also used for scenarios that cannot
be covered by the other methods sufficiently. However, in such cases make sure to
document the fact that <a href="#post"><code>POST</code></a> is used as a workaround (see e.g. <a href="#get-with-body"><code>GET with body</code></a>).</p>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> Posting the same resource twice is <strong>not</strong> required to be <a href="#idempotent">idempotent</a>
(check <a href="#149"><span class="must-keyword"><strong>MUST</strong></span> fulfill common method properties</a>) and may result in multiple resources. However, you <a href="#229"><span class="should-keyword"><strong>SHOULD</strong></span> consider to design <code>POST</code> and <code>PATCH</code> idempotent</a> to
prevent this.</p>
</div>
</div>
<div class="sect3">
<h4 id="reading-a-single-object"><a class="link" href="#reading-a-single-object">Reading a Single Object</a></h4>
<div class="ulist">
<ul>
<li>
<p>Modeled as <code>GET /&#8230;&#8203;/plural-noun/{nounId}</code></p>
</li>
<li>
<p>On success, returns a 200 with the DTO.</p>
</li>
<li>
<p>A 404 is returned if the referenced object is not found.</p>
</li>
<li>
<p>Query params are allowed, for example, to return the object at different levels of detail.</p>
</li>
<li>
<p>Is free of side-effects.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="reading-a-list-of-objects"><a class="link" href="#reading-a-list-of-objects">Reading a List of Objects</a></h4>
<div class="ulist">
<ul>
<li>
<p>Modeled as <code>GET /&#8230;&#8203;/plural-noun</code>.</p>
</li>
<li>
<p>For <strong>API version 3</strong>, on success, returns a 200 with an array of objects.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "id": "123",
    "name": "John"
  },
  ...
]</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Proposed for API version 4</strong>, on success, returns a 200 with a JSON array of objects enveloped inside an object.  By returning
an object as the top level for all responses, we allow our APIs to extend without breaking backwards
compatibility.  If there was ever a need to add an additional field to a response that returns an
array (ex. pagination links in the body), then we would need to break the API by wrapping it in an
object.  By requiring objects at the top level from the start, we avoid this in the future.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "results": [...],
  "count": ...
}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Supports pagination via <code>limit</code> and <code>offset</code> query parameters unless the back end data store makes this impossible or prohibitively expensive.</p>
</li>
<li>
<p>The default value for <code>limit</code> is 250 unless the endpoint documentation states otherwise.</p>
</li>
<li>
<p>The standard <code>filters</code> query parameter is preferred over custom filtering query params.</p>
</li>
<li>
<p>If <code>filters</code> are used, the supported fields and operations are whitelisted. Unsupported filters should result in an error response.</p>
</li>
<li>
<p>If <code>filters</code> refer to fields in nested objects, then "." notation is used, for example <code>filters=owner.name eq "leah.pierce"</code></p>
</li>
<li>
<p>Custom query params are allowed if filters cannot be used.</p>
</li>
<li>
<p>If at all possible, supports reading a list of objects by their ids, either in the form of a filter, i.e. <code>filters=id in (id0, id1, &#8230;&#8203;, idN)</code> or a custom query param.</p>
</li>
<li>
<p>Use of single boolean-valued params should be avoided; strings, enumerated values, or comma-separated values are preferred.</p>
</li>
<li>
<p>The standard <code>sorters</code> query parameter may be used for sorting.</p>
</li>
<li>
<p>If <code>sorters</code> are used, the supported fields are whitelisted.</p>
</li>
<li>
<p>Results are not implicitly filtered or scoped based on the current logged in user. If such filtering is required it is via an explicit query param taking an identity id. By convention, me can stand in for the currently logged in user&#8217;s identity id as the value for such a param.</p>
</li>
<li>
<p>Is free of side-effects.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="get-with-body-payload"><a class="link" href="#get-with-body-payload">Get with Body Payload</a></h4>
<div class="paragraph">
<p>APIs sometimes face the problem, that they have to provide extensive structured request information with GET, that may conflict
with the size limits of clients, load-balancers, and servers. As we require APIs to be standard conform (request body payload
in GET must be ignored on server side), API designers have to check the following two options:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>GET with URL encoded query parameters: when it is possible to encode the request information in query parameters,
respecting the usual size limits of clients, gateways, and servers, this should be the first choice. The
request information can either be provided via multiple query parameters or by a single structured URL encoded string.</p>
</li>
<li>
<p>POST with body payload content: when a GET with URL encoded query parameters is not possible, a POST
request with body payload must be used, and explicitly documented with a hint like in the following example:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">paths</span>:
  <span class="key">/products</span>:
    <span class="key">post</span>:
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
        [GET with body payload](https://sailpoint-oss.github.io/sailpoint-api-guidelines/#get-with-body) - no resources created:
        Returns all products matching the query passed as request input payload.</span></span>
      <span class="key">requestBody</span>:
        <span class="key">required</span>: <span class="string"><span class="content">true</span></span>
        <span class="key">content</span>:
          <span class="error">...</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="updating-an-object-by-full-replacement"><a class="link" href="#updating-an-object-by-full-replacement">Updating an Object by Full Replacement</a></h4>
<div class="paragraph">
<p>Modeled as <code>PUT /&#8230;&#8203;/plural-noun/{nounId}</code></p>
</div>
<div class="paragraph">
<p><a href="#put"><code>PUT</code></a> requests are used to <strong>update</strong> (and sometimes to create) <strong>entire</strong>
resources – single or collection resources. The semantic is best described
as <em>"please put the enclosed representation at the resource mentioned by
the URL, replacing any existing resource."</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#put"><code>PUT</code></a> requests are usually applied to single resources, and not to collection
resources, as this would imply replacing the entire collection</p>
</li>
<li>
<p><a href="#put"><code>PUT</code></a> requests are usually robust against non-existence of resources by
implicitly creating the resource before updating</p>
</li>
<li>
<p>on successful <a href="#put"><code>PUT</code></a> requests, the server will <strong>replace the entire resource</strong>
addressed by the URL with the representation passed in the payload (subsequent
reads will deliver the same payload)</p>
</li>
<li>
<p>successful <a href="#put"><code>PUT</code></a> requests will usually generate <a href="#status-code-200" class="status-code">200</a> or <a href="#status-code-204" class="status-code">204</a> (if the
resource was updated – with or without actual content returned), and <a href="#status-code-201" class="status-code">201</a> (if
the resource was created)</p>
</li>
<li>
<p>Returns a 404 if the object does not exist and the endpoint does not support PUT as a means of creation.</p>
</li>
<li>
<p>Does a complete replacement of the referenced object and does not attempt to merge the input DTO with the existing object.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Important:</strong> It is good practice to prefer <a href="#post"><code>POST</code></a> over <a href="#put"><code>PUT</code></a> for creation of
(at least top-level) resources. This leaves the resource ID management under
control of the service and not the client, and focus <a href="#put"><code>PUT</code></a> on its usage for updates.
However, in situations where <a href="#put"><code>PUT</code></a> is used for resource creation,
the resource IDs are maintained by the client and passed as a URL path segment.
Putting the same resource twice is required to be <a href="#idempotent">idempotent</a> and to result
in the same single resource instance (see <a href="#149"><span class="must-keyword"><strong>MUST</strong></span> fulfill common method properties</a>).</p>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> To prevent unnoticed concurrent updates and duplicate creations when
using <a href="#put"><code>PUT</code></a>, you <a href="#182"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>ETag</code> together with <code>If-Match</code>/<code>If-None-Match</code> header</a> to allow the server to react on stricter demands that
expose conflicts and prevent lost updates. See also <a href="#optimistic-locking">Optimistic locking in RESTful APIs</a> for
details and options.</p>
</div>
</div>
<div class="sect3">
<h4 id="updating-an-object-by-targeted-modification"><a class="link" href="#updating-an-object-by-targeted-modification">Updating an Object by Targeted Modification</a></h4>
<div class="paragraph">
<p><a href="#patch"><code>PATCH</code></a> requests are used to <strong>update parts</strong> of single resources, i.e. where only
a specific subset of resource fields should be replaced. The semantic is best
described as <em>"please change the resource identified by the URL according to my
change request"</em>. The semantic of the change request is not defined in the HTTP
standard and must be described in the API specification by using suitable media
types.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Modeled as <code>PATCH /../plural-noun/{nounId}</code></p>
</li>
<li>
<p><a href="#patch"><code>PATCH</code></a> requests are usually applied to single resources as patching entire
collection is challenging</p>
</li>
<li>
<p><a href="#patch"><code>PATCH</code></a> requests are usually not robust against non-existence of resource
instances</p>
</li>
<li>
<p>on successful <a href="#patch"><code>PATCH</code></a> requests, the server will update parts of the resource
addressed by the URL as defined by the change request in the payload</p>
</li>
<li>
<p>successful <a href="#patch"><code>PATCH</code></a> requests will usually generate <a href="#status-code-200" class="status-code">200</a> or <a href="#status-code-204" class="status-code">204</a> (if
resources have been updated with or without updated content returned)</p>
</li>
<li>
<p>Returns a 404 if the object does not exist.</p>
</li>
<li>
<p>If synchronous, and the patch cannot be successfully applied, returns a 400.</p>
</li>
<li>
<p>Mutable DTO fields are documented.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="deleting-an-object"><a class="link" href="#deleting-an-object">Deleting an Object</a></h4>
<div class="paragraph">
<p><a href="#delete"><code>DELETE</code></a> requests are used to <strong>delete</strong> resources. The semantic is best
described as <em>"please delete the resource identified by the URL"</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Modeled as <code>DELETE /../plural-noun/{nounId}</code></p>
</li>
<li>
<p><a href="#delete"><code>DELETE</code></a> requests are usually applied to single resources, not on
collection resources, as this would imply deleting the entire collection.</p>
</li>
<li>
<p><a href="#delete"><code>DELETE</code></a> request can be applied to multiple resources at once using query
parameters on the collection resource (see <a href="#delete-with-query-params">DELETE with query parameters</a>).</p>
</li>
<li>
<p>successful <a href="#delete"><code>DELETE</code></a> requests will usually generate <a href="#status-code-200" class="status-code">200</a> (if the deleted
resource is returned) or <a href="#status-code-204" class="status-code">204</a> (if no content is returned).</p>
</li>
<li>
<p>failed <a href="#delete"><code>DELETE</code></a> requests will usually generate <a href="#status-code-404" class="status-code">404</a> (if the resource cannot
be found) or <a href="#status-code-410" class="status-code">410</a> (if the resource was already deleted before).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Important:</strong> After deleting a resource with <a href="#delete"><code>DELETE</code></a>, a <a href="#get"><code>GET</code></a> request on the
resource is expected to either return <a href="#status-code-404" class="status-code">404</a> (not found) or <a href="#status-code-410" class="status-code">410</a> (gone)
depending on how the resource is represented after deletion. Under no
circumstances the resource must be accessible after this operation on its
endpoint.</p>
</div>
</div>
<div class="sect3">
<h4 id="delete-with-query-params"><a class="link" href="#delete-with-query-params">DELETE with query parameters</a></h4>
<div class="paragraph">
<p><a href="#delete"><code>DELETE</code></a> request can have query parameters. Query parameters should be used as
filter parameters on a resource and not for passing context information to
control the operation behavior.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">DELETE /resources?param1=value1&amp;param2=value2...&amp;paramN=valueN</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> When providing <a href="#delete"><code>DELETE</code></a> with query parameters, API designers must
carefully document the behavior in case of (partial) failures to manage client
expectations properly.</p>
</div>
<div class="paragraph">
<p>The response status code of <a href="#delete"><code>DELETE</code></a> with query parameters requests should be
similar to usual <a href="#delete"><code>DELETE</code></a> requests. In addition, it may return the status code
<a href="#status-code-207" class="status-code">207</a> using a payload describing the operation results (see <a href="#152"><span class="must-keyword"><strong>MUST</strong></span> use code 207 for batch or bulk requests</a> for
details).</p>
</div>
</div>
<div class="sect3">
<h4 id="delete-with-body"><a class="link" href="#delete-with-body">DELETE with body payload</a></h4>
<div class="paragraph">
<p>In rare cases <a href="#delete"><code>DELETE</code></a> may require additional information, that cannot be
classified as filter parameters and thus should be transported via request body payload, to
perform the operation. Since <a href="https://tools.ietf.org/html/rfc7231#section-4.3.5">RFC-7231</a> states, that
<a href="#delete"><code>DELETE</code></a> has an undefined semantic for payloads, we recommend to utilize <a href="#post"><code>POST</code></a>.
In this case the POST endpoint must be documented with the hint <a href="#delete-with-body"><code>DELETE with body</code></a>
analog to how it is defined for <a href="#get-with-body"><code>GET with body</code></a>. The response status code of
<a href="#delete-with-body"><code>DELETE with body</code></a> requests should be similar to usual <a href="#delete"><code>DELETE</code></a> requests.</p>
</div>
</div>
<div class="sect3">
<h4 id="head"><a class="link" href="#head">HEAD (Optional)</a></h4>
<div class="paragraph">
<p><a href="#head"><code>HEAD</code></a> requests are used to <strong>retrieve</strong> the header information of single
resources and resource collections.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#head"><code>HEAD</code></a> has exactly the same semantics as <a href="#get"><code>GET</code></a>, but returns headers only, no
body.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> <a href="#head"><code>HEAD</code></a> is particular useful to efficiently lookup whether large
resources or collection resources have been updated in conjunction with the
<a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a>-header.</p>
</div>
</div>
<div class="sect3">
<h4 id="options"><a class="link" href="#options">OPTIONS (Optional)</a></h4>
<div class="paragraph">
<p><a href="#options"><code>OPTIONS</code></a> requests are used to <strong>inspect</strong> the available operations (HTTP
methods) of a given endpoint.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#options"><code>OPTIONS</code></a> responses usually either return a comma separated list of methods
in the <code>Allow</code> header or as a structured list of link templates</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> <a href="#options"><code>OPTIONS</code></a> is rarely implemented, though it could be used to
self-describe the full functionality of a resource.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="149"><a class="link" href="#149"><span class="must-keyword"><strong>MUST</strong></span> fulfill common method properties</a></h3>
<div class="paragraph">
<p>Request methods in RESTful services can be&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="safe"></a><a href="https://tools.ietf.org/html/rfc7231#section-4.2.1">safe</a> - the operation semantic is defined to be read-only,
meaning it must not have <em>intended side effects</em>, i.e. changes, to the server
state.</p>
</li>
<li>
<p><a id="idempotent"></a><a href="https://tools.ietf.org/html/rfc7231#section-4.2.2">idempotent</a> - the operation has the same
<em>intended effect</em> on the server state, independently whether it is executed
once or multiple times. <strong>Note:</strong> this does not require that the operation is
returning the same response or status code.</p>
</li>
<li>
<p><a id="cacheable"></a><a href="https://tools.ietf.org/html/rfc7231#section-4.2.3">cacheable</a> - to indicate that responses are
allowed to be stored for future reuse. In general, requests to safe methods
are cachable, if it does not require a current or authoritative response
from the server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> The above definitions, of <em>intended (side) effect</em> allows the server
to provide additional state changing behavior as logging, accounting, pre-
fetching, etc. However, these actual effects and state changes, must not be
intended by the operation so that it can be held accountable.</p>
</div>
<div class="paragraph">
<p>Method implementations must fulfill the following basic properties according
to <a href="https://tools.ietf.org/html/rfc7231">RFC 7231</a>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Idempotent</th>
<th class="tableblock halign-left valign-top">Cacheable</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#get"><code>GET</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#head"><code>HEAD</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="should-keyword">&#x26a0;&#xFE0F;</span> No, but <a href="#229"><span class="should-keyword"><strong>SHOULD</strong></span> consider to design <code>POST</code> and <code>PATCH</code> idempotent</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="should-keyword">&#x26a0;&#xFE0F;</span> May, but only if specific
<a href="#post"><code>POST</code></a> endpoint is <a href="#safe">safe</a>. <strong>Hint:</strong> not supported by most caches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#put"><code>PUT</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#patch"><code>PATCH</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="should-keyword">&#x26a0;&#xFE0F;</span> No, but <a href="#229"><span class="should-keyword"><strong>SHOULD</strong></span> consider to design <code>POST</code> and <code>PATCH</code> idempotent</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#delete"><code>DELETE</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#options"><code>OPTIONS</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#trace"><code>TRACE</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="229"><a class="link" href="#229"><span class="should-keyword"><strong>SHOULD</strong></span> consider to design <code>POST</code> and <code>PATCH</code> idempotent</a></h3>
<div class="paragraph">
<p>In many cases it is helpful or even necessary to design <a href="#post"><code>POST</code></a> and <a href="#patch"><code>PATCH</code></a>
<a href="#idempotent">idempotent</a> for clients to expose conflicts and prevent resource duplicate
(a.k.a. zombie resources) or lost updates, e.g. if same resources may be
created or changed in parallel or multiple times. To design an <a href="#idempotent">idempotent</a>
API endpoint owners should consider to apply one of the following three
patterns.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A resource specific <strong>conditional key</strong> provided via <a href="#182"><code>If-Match</code> header</a>
in the request. The key is in general a meta information of the resource,
e.g. a <em>hash</em> or <em>version number</em>, often stored with it. It allows to detect
concurrent creations and updates to ensure <a href="#idempotent">idempotent</a> behavior (see
<a href="#182"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>ETag</code> together with <code>If-Match</code>/<code>If-None-Match</code> header</a>).</p>
</li>
<li>
<p>A resource specific <strong>secondary key</strong> provided as resource property in the
request body. The <em>secondary key</em> is stored permanently in the resource. It
allows to ensure <a href="#idempotent">idempotent</a> behavior by looking up the unique secondary
key in case of multiple independent resource creations from different
clients (see <a href="#231"><span class="may-keyword"><strong>MAY</strong></span> use secondary key for idempotent <code>POST</code> design</a>).</p>
</li>
<li>
<p>A client specific <strong>idempotency key</strong> provided via <a href="#230"><code>Idempotency-Key</code></a> header
in the request. The key is not part of the resource but stored temporarily
pointing to the original response to ensure <a href="#idempotent">idempotent</a> behavior when
retrying a request (see <a href="#230"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>Idempotency-Key</code> header</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> While <strong>conditional key</strong> and <strong>secondary key</strong> are focused on handling
concurrent requests, the <strong>idempotency key</strong> is focused on providing the exact
same responses, which is even a <em>stronger</em> requirement than the <a href="#idempotent">idempotency defined above</a>. It can be combined with the two other patterns.</p>
</div>
<div class="paragraph">
<p>To decide, which pattern is suitable for your use case, please consult the
following table showing the major properties of each pattern:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 46%;">
<col style="width: 18%;">
<col style="width: 18%;">
<col style="width: 18%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Conditional Key</th>
<th class="tableblock halign-left valign-top">Secondary Key</th>
<th class="tableblock halign-left valign-top">Idempotency Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applicable with</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#patch"><code>PATCH</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a>/<a href="#patch"><code>PATCH</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Standard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prevents duplicate (zombie) resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prevents concurrent lost updates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supports safe retries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supports exact same response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can be inspected (by intermediaries)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usable without previous <a href="#get"><code>GET</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="must-keyword">&#x2717;</span> No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="may-keyword">&#x2714;</span> Yes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> The patterns applicable to <a href="#patch"><code>PATCH</code></a> can be applied in the same way to
<a href="#put"><code>PUT</code></a> and <a href="#delete"><code>DELETE</code></a> providing the same properties.</p>
</div>
<div class="paragraph">
<p>If you mainly aim to support safe retries, we suggest to apply <a href="#182">conditional key</a> and <a href="#231">secondary key</a> pattern before the <a href="#230">Idempotency Key</a> pattern.</p>
</div>
</div>
<div class="sect2">
<h3 id="231"><a class="link" href="#231"><span class="may-keyword"><strong>MAY</strong></span> use secondary key for idempotent <code>POST</code> design</a></h3>
<div class="paragraph">
<p>The most important pattern to design <a href="#post"><code>POST</code></a> <a href="#idempotent">idempotent</a> for creation is to
introduce a resource specific <strong>secondary key</strong> provided in the request body, to
eliminate the problem of duplicate (a.k.a zombie) resources.</p>
</div>
<div class="paragraph">
<p>The secondary key is stored permanently in the resource as <em>alternate key</em> or
<em>combined key</em> (if consisting of multiple properties) guarded by a uniqueness
constraint enforced server-side, that is visible when reading the resource.
The best and often naturally existing candidate is a <em>unique foreign key</em>, that
points to another resource having <em>one-on-one</em> relationship with the newly
created resource, e.g. a parent process identifier.</p>
</div>
<div class="paragraph">
<p>A good example here for a secondary key is the shopping cart ID in an order
resource.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> When using the secondary key pattern without <a href="#230"><code>Idempotency-Key</code></a> all
subsequent retries should fail with status code <a href="#status-code-409" class="status-code">409</a> (conflict). We suggest
to avoid <a href="#status-code-200" class="status-code">200</a> here unless you make sure, that the delivered resource is the
original one implementing a well defined behavior. Using <a href="#status-code-204" class="status-code">204</a> without content
would be a similar well defined option.</p>
</div>
</div>
<div class="sect2">
<h3 id="154"><a class="link" href="#154"><span class="must-keyword"><strong>MUST</strong></span> define collection format of header and query parameters</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="236"><a class="link" href="#236"><span class="should-keyword"><strong>SHOULD</strong></span> design simple query languages using query parameters</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="237"><a class="link" href="#237"><span class="must-keyword"><strong>MUST</strong></span> design complex query languages using JSON</a></h3>
<div class="paragraph">
<p>Minimalistic query languages based on <a href="#236">query parameters</a> are suitable
for simple use cases with a small set of available filters that are combined
in one way and one way only (e.g. <em>and</em> semantics). Simple query languages are
generally preferred over complex ones.</p>
</div>
<div class="paragraph">
<p>Some APIs will have a need for sophisticated and more complex query languages.
Dominant examples are APIs around search (incl. faceting) and product catalogs.</p>
</div>
<div class="paragraph">
<p>Aspects that set those APIs apart from the rest include but are not limited to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Unusual high number of available filters</p>
</li>
<li>
<p>Dynamic filters, due to a dynamic and extensible resource model</p>
</li>
<li>
<p>Free choice of operators, e.g. <code>and</code>, <code>or</code> and <code>not</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>APIs that qualify for a specific, complex query language are encouraged to
use nested JSON data structures and define them using OpenAPI directly. The
provides the following benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Data structures are easy to use for clients</p>
<div class="ulist">
<ul>
<li>
<p>No special library support necessary</p>
</li>
<li>
<p>No need for string concatenation or manual escaping</p>
</li>
</ul>
</div>
</li>
<li>
<p>Data structures are easy to use for servers</p>
<div class="ulist">
<ul>
<li>
<p>No special tokenizers needed</p>
</li>
<li>
<p>Semantics are attached to data structures rather than text tokens</p>
</li>
</ul>
</div>
</li>
<li>
<p>Consistent with other HTTP methods</p>
</li>
<li>
<p>API is defined in OpenAPI completely</p>
<div class="ulist">
<ul>
<li>
<p>No external documents or grammars needed</p>
</li>
<li>
<p>Existing means are familiar to everyone</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#json-guidelines">JSON-specific rules</a> and most certainly needs to make use
of the <a href="#get-with-body-payload"><code>GET</code>-with-body</a> pattern.</p>
</div>
<div class="sect3">
<h4 id="_example"><a class="link" href="#_example">Example</a></h4>
<div class="paragraph">
<p>The following JSON document should serve as an idea how a structured query
might look like.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">and</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">match</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Alice</span><span class="delimiter">&quot;</span></span>
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">or</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">range</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">&gt;</span><span class="delimiter">&quot;</span></span>: <span class="integer">25</span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">&lt;=</span><span class="delimiter">&quot;</span></span>: <span class="integer">50</span>
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">=</span><span class="delimiter">&quot;</span></span>: <span class="integer">65</span>
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Feel free to also get some inspiration from:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">Elastic Search: Query DSL</a></p>
</li>
<li>
<p><a href="https://graphql.org/learn/queries/">GraphQL: Queries</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="226"><a class="link" href="#226"><span class="must-keyword"><strong>MUST</strong></span> document implicit filtering</a></h3>
<div class="paragraph">
<p>Sometimes certain collection resources or queries will not list all the
possible elements they have, but only those for which the current client
is authorized to access.</p>
</div>
<div class="paragraph">
<p>Implicit filtering could be done on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the collection of resources being returned on a <a href="#get"><code>GET</code></a> request</p>
</li>
<li>
<p>the fields returned for the detail information of the resource</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In such cases, the fact that implicit filtering is applied must be documented
in the API specification&#8217;s endpoint description. Example:</p>
</div>
<div class="paragraph">
<p>If an employee of the company <em>Foo</em> accesses one of our business-to-business
service and performs a <code><a href="#get"><code>GET</code></a> /business-partners</code>, it must, for legal reasons,
not display any other business partner that is not owned or contractually
managed by her/his company. It should never see that we are doing business
also with company <em>Bar</em>.</p>
</div>
<div class="paragraph">
<p>Response as seen from a consumer working at <code>FOO</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">items</span><span class="delimiter">&quot;</span></span>: [
        { <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Foo Performance</span><span class="delimiter">&quot;</span></span> },
        { <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Foo Sport</span><span class="delimiter">&quot;</span></span> },
        { <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Foo Signature</span><span class="delimiter">&quot;</span></span> }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Response as seen from a consumer working at <code>BAR</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">items</span><span class="delimiter">&quot;</span></span>: [
        { <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bar Classics</span><span class="delimiter">&quot;</span></span> },
        { <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Bar pour Elle</span><span class="delimiter">&quot;</span></span> }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The API Specification should then specify something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">paths</span>:
  <span class="key">/business-partner</span>:
    <span class="key">get</span>:
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;-</span><span class="content">
        Get the list of registered business partner.
        Only the business partners to which you have access to are returned.</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http-status-codes-and-errors"><a class="link" href="#http-status-codes-and-errors">14. HTTP status codes and errors</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="151"><a class="link" href="#151"><span class="must-keyword"><strong>MUST</strong></span> specify success and error responses <span class="icon lime"><i class="fa fa-check-square"></i></span></a></h3>
<div class="paragraph">
<p>APIs should define the functional, business view and abstract from
implementation aspects. Success and error responses are a vital part to
define how an API is used correctly.</p>
</div>
<div class="paragraph">
<p>Therefore, you must define <strong>all</strong> success and service specific error
responses in your API specification. Both are part of the interface definition
and provide important information for service clients to handle standard as
well as exceptional situations.</p>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> In most cases it is not useful to document all technical errors,
especially if they are not under control of the service provider. Thus unless
a response code conveys application-specific functional semantics or is used
in a none standard way that requires additional explanation, multiple error
response specifications can be combined using the following pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">responses</span>:
  <span class="error">...</span>
  <span class="key">default</span>:
    <span class="key">description</span>: <span class="string"><span class="content">error occurred - see status code and problem object for more information.</span></span>
    <span class="key">content</span>:
      <span class="key"><span class="delimiter">&quot;</span><span class="content">application/problem+json</span><span class="delimiter">&quot;</span></span>:
        <span class="key">schema</span>:
          <span class="error">$ref</span>: <span class="error">'https://sailpoint-oss.github.io/sailpoint-api-guidelines/problem-1.0.1.yaml#/Problem'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>API designers should also think about a <strong>troubleshooting board</strong> as part of
the associated online API documentation. It provides information and handling
guidance on application-specific errors and is referenced via links from the
API specification. This can reduce service support tasks and contribute to
service client and provider performance.</p>
</div>
<div class="sect3">
<h4 id="321"><a class="link" href="#321"><span class="must-keyword"><strong>MUST</strong></span> use a standard error response object</a></h4>
<div class="paragraph">
<p>All error responses must use the standard error response DTO object defined at
<a href="https://github.com/sailpoint/cloud-api-client-common/blob/master/api-specs/src/main/yaml/v3/schemas/ErrorResponseDto.yaml" class="bare">https://github.com/sailpoint/cloud-api-client-common/blob/master/api-specs/src/main/yaml/v3/schemas/ErrorResponseDto.yaml</a>.
This provides a consistent error response structure that can be easily consumed by clients.</p>
</div>
</div>
<div class="sect3">
<h4 id="322"><a class="link" href="#322"><span class="may-keyword"><strong>MAY</strong></span> define application specific codes for the standard error response object</a></h4>
<div class="paragraph">
<p>If using the <code>detailCode</code> within the <a href="https://github.com/sailpoint/cloud-api-client-common/blob/master/api-specs/src/main/yaml/v3/schemas/ErrorResponseDto.yaml" class="bare">https://github.com/sailpoint/cloud-api-client-common/blob/master/api-specs/src/main/yaml/v3/schemas/ErrorResponseDto.yaml</a>,
then the service owner is free to create their own logic for detail codes that will aid them in debugging issues with the service.</p>
</div>
</div>
<div class="sect3">
<h4 id="323"><a class="link" href="#323"><span class="must-keyword"><strong>MUST</strong></span> use the most accurate response example for each endpoint</a></h4>
<div class="paragraph">
<p>Each endpoint must define a response example for every success and error response that can be returned.
These examples must accurately reflect what can be returned by the endpoint.  Default examples shared across
multiple endpoints may be used as long as they accurately reflect what can be returned by the endpoint.  If a
default example doesn’t accurately reflect what can be returned by an endpoint, then that endpoint must
override the default example with one that is accurate.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="150"><a class="link" href="#150"><span class="must-keyword"><strong>MUST</strong></span> use standard HTTP status codes</a></h3>
<div class="paragraph">
<p>You must only use standardized HTTP status codes consistently with their
intended semantics. You must not invent new HTTP status codes.</p>
</div>
<div class="paragraph">
<p>RFC standards define ~60 different HTTP status codes with specific semantics
(mainly <a href="https://tools.ietf.org/html/rfc7231#section-6">RFC7231</a> and <a href="https://tools.ietf.org/html/rfc6585">RFC 6585</a>) — and there
are upcoming new ones, e.g.
<a href="https://tools.ietf.org/html/draft-tbray-http-legally-restricted-status-05">draft
legally-restricted-status</a>. See overview on all error codes on
<a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">Wikipedia</a> or
via <a href="https://httpstatuses.com/" class="bare">https://httpstatuses.com/</a>) also inculding 'unofficial codes', e.g. used
by popular web servers like Nginx.</p>
</div>
<div class="paragraph">
<p>Below we list the most commonly used and best understood HTTP status codes,
consistent with their semantic in the RFCs. APIs should only use these to
prevent misconceptions that arise from less commonly used HTTP status codes.</p>
</div>
<div class="paragraph">
<p><strong>Important:</strong> As long as your HTTP status code usage is well covered by the
semantic defined here, you should not describe it to avoid an overload with
common sense information and the risk of inconsistent definitions. Only if the
HTTP status code is not in the list below or its usage requires additional
information aside the well defined semantic, the API specification must provide
a clear description of the HTTP status code in the response.</p>
</div>
<div class="sect3">
<h4 id="success-codes"><a class="link" href="#success-codes">Success codes</a></h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Methods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-200"></a><a href="#status-code-200" class="status-code">200</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OK - this is the standard success response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-201"></a><a href="#status-code-201" class="status-code">201</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Created - Returned on successful entity creation. You are
free to return either an empty response or the created resource in conjunction
with the Location header.
<em>Always</em> set the Location header.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a>, <a href="#put"><code>PUT</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-202"></a><a href="#status-code-202" class="status-code">202</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accepted - The request was successful and will be processed asynchronously.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a>, <a href="#put"><code>PUT</code></a>, <a href="#patch"><code>PATCH</code></a>, <a href="#delete"><code>DELETE</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-204"></a><a href="#status-code-204" class="status-code">204</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No content - There is no response body.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#put"><code>PUT</code></a>, <a href="#patch"><code>PATCH</code></a>, <a href="#delete"><code>DELETE</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-207"></a><a href="#status-code-207" class="status-code">207</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multi-Status - The response body contains multiple status informations for
different parts of a batch/bulk request (see <a href="#152"><span class="must-keyword"><strong>MUST</strong></span> use code 207 for batch or bulk requests</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a>, (<a href="#delete"><code>DELETE</code></a>)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="redirection-codes"><a class="link" href="#redirection-codes">Redirection codes</a></h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Methods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-301"></a><a href="#status-code-301" class="status-code">301</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moved Permanently - This and all future requests should be directed to the
given URI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-303"></a><a href="#status-code-303" class="status-code">303</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See Other - The response to the request can be found under another URI using a
<a href="#get"><code>GET</code></a> method.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a>, <a href="#put"><code>PUT</code></a>, <a href="#patch"><code>PATCH</code></a>, <a href="#delete"><code>DELETE</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-304"></a><a href="#status-code-304" class="status-code">304</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Modified - indicates that a conditional GET or HEAD request would have
resulted in 200 response if it were not for the fact that the condition evaluated
to false, i.e. resource has not been modified since the date or version passed
via request headers If-Modified-Since or If-None-Match.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#get"><code>GET</code></a>, <a href="#head"><code>HEAD</code></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="client-side-error-codes"><a class="link" href="#client-side-error-codes">Client side error codes</a></h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Methods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-400"></a><a href="#status-code-400" class="status-code">400</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bad request - generic / unknown error.  Should also be delivered in case of
input payload fails business logic validation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-401"></a><a href="#status-code-401" class="status-code">401</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unauthorized - the users must log in (this often means "Unauthenticated").</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-403"></a><a href="#status-code-403" class="status-code">403</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forbidden - the user is not authorized to use this resource.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-404"></a><a href="#status-code-404" class="status-code">404</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not found - the resource is not found.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-405"></a><a href="#status-code-405" class="status-code">405</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method Not Allowed - the method is not supported, see <a href="#options"><code>OPTIONS</code></a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-406"></a><a href="#status-code-406" class="status-code">406</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Acceptable - resource can only generate content not acceptable according
to the Accept headers sent in the request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-408"></a><a href="#status-code-408" class="status-code">408</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request timeout - the server times out waiting for the resource.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-409"></a><a href="#status-code-409" class="status-code">409</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conflict - request cannot be completed due to conflict, e.g. when two clients
try to create the same resource or if there are concurrent, conflicting updates.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a>, <a href="#put"><code>PUT</code></a>, <a href="#patch"><code>PATCH</code></a>, <a href="#delete"><code>DELETE</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-410"></a><a href="#status-code-410" class="status-code">410</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gone - resource does not exist any longer, e.g. when accessing a
resource that has intentionally been deleted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-412"></a><a href="#status-code-412" class="status-code">412</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Precondition Failed - returned for conditional requests, e.g. <a href="https://tools.ietf.org/html/rfc7232#section-3.1"><code>If-Match</code></a> if the
condition failed. Used for optimistic locking.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#put"><code>PUT</code></a>, <a href="#patch"><code>PATCH</code></a>, <a href="#delete"><code>DELETE</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-415"></a><a href="#status-code-415" class="status-code">415</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported Media Type - e.g. clients sends request body without content type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#post"><code>POST</code></a>, <a href="#put"><code>PUT</code></a>, <a href="#patch"><code>PATCH</code></a>, <a href="#delete"><code>DELETE</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-423"></a><a href="#status-code-423" class="status-code">423</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Locked - Pessimistic locking, e.g. processing states.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#put"><code>PUT</code></a>, <a href="#patch"><code>PATCH</code></a>, <a href="#delete"><code>DELETE</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-428"></a><a href="#status-code-428" class="status-code">428</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Precondition Required - server requires the request to be conditional, e.g. to
make sure that the "lost update problem" is avoided (see <a href="#181"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>Prefer</code> header to handle processing preferences</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-429"></a><a href="#status-code-429" class="status-code">429</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Too many requests - the client does not consider rate limiting and sent too
many requests (see <a href="#153"><span class="must-keyword"><strong>MUST</strong></span> use code 429 with headers for rate limits</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="server-side-error-codes"><a class="link" href="#server-side-error-codes">Server side error codes:</a></h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Methods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-500"></a><a href="#status-code-500" class="status-code">500</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal Server Error - a generic error indication for an unexpected server
execution problem (here, client retry may be sensible)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-501"></a><a href="#status-code-501" class="status-code">501</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Implemented - server cannot fulfill the request (usually implies future
availability, e.g. new feature).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="status-code-503"></a><a href="#status-code-503" class="status-code">503</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Unavailable - service is (temporarily) not available (e.g. if a
required component or downstream service is not available)&#8201;&#8212;&#8201;client retry may
be sensible. If possible, the service should indicate how long the client
should wait by setting the <a href="https://tools.ietf.org/html/rfc7231#section-7.1.3"><code>Retry-After</code></a> header.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;all&gt;</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="220"><a class="link" href="#220"><span class="must-keyword"><strong>MUST</strong></span> use most specific HTTP status codes</a></h3>
<div class="paragraph">
<p>You must use the most specific HTTP status code when returning information about your request
processing status or error situations.  See the below table for examples of when to use the generic
400 vs a more specific 4xx</p>
</div>
<div class="paragraph">
<p>See <a href="https://sailpoint-oss.github.io/sailpoint-api-guidelines/#client-side-error-codes" class="bare">https://sailpoint-oss.github.io/sailpoint-api-guidelines/#client-side-error-codes</a>
for a list of response codes that SailPoint prefers to use.</p>
</div>
<div class="paragraph">
<p>If you encounter a scenario where two or more response codes are appropriate, prefer to use the response code that preserves the security of the system and does not hand out too much information to unauthorized users.</p>
</div>
</div>
<div class="sect2">
<h3 id="152"><a class="link" href="#152"><span class="must-keyword"><strong>MUST</strong></span> use code 207 for batch or bulk requests</a></h3>
<div class="paragraph">
<p>Some APIs are required to provide either <em>batch</em> or <em>bulk</em> requests using
<a href="#post"><code>POST</code></a> for performance reasons, i.e. for communication and processing
efficiency. In this case services may be in need to signal multiple response
codes for each part of an batch or bulk request. As HTTP does not provide
proper guidance for handling batch/bulk requests and responses, we herewith
define the following approach:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A batch or bulk request <strong>always</strong> responds with HTTP status code <a href="#status-code-207" class="status-code">207</a>
unless a non-item-specific failure occurs.</p>
</li>
<li>
<p>A batch or bulk request <strong>may</strong> return <a href="#client-side-error-codes" class="status-code">4xx</a>/<a href="#server-side-error-codes" class="status-code">5xx</a> status codes, if the
failure is non-item-specific and cannot be restricted to individual items of
the batch or bulk request, e.g. in case of overload situations or general
service failures.</p>
</li>
<li>
<p>A batch or bulk response with status code <a href="#status-code-207" class="status-code">207</a> <strong>always</strong> returns as payload
a multi-status response containing item specific status and/or monitoring
information for each part of the batch or bulk request.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note:</strong> These rules apply <em>even in the case</em> that processing of all
individual parts <em>fail</em> or each part is executed <em>asynchronously</em>!</p>
</div>
<div class="paragraph">
<p>The rules are intended to allow clients to act on batch and bulk responses in
a consistent way by inspecting the individual results. We explicitly reject
the option to apply <a href="#status-code-200" class="status-code">200</a> for a completely successful batch as proposed in
Nakadi&#8217;s <a href="https://nakadi.io/manual.html#/event-types/name/events_post"><code>POST
/event-types/{name}/events</code></a> as short cut without inspecting the result, as we
want to avoid  risks and expect clients to handle partial
batch failures anyway.</p>
</div>
<div class="paragraph">
<p>The bulk or batch response may look as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">BatchOrBulkResponse</span>:
  <span class="key">description</span>: <span class="string"><span class="content">batch response object.</span></span>
  <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
  <span class="key">properties</span>:
    <span class="key">items</span>:
      <span class="key">type</span>: <span class="string"><span class="content">array</span></span>
      <span class="key">items</span>:
        <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
        <span class="key">properties</span>:
          <span class="key">id</span>:
            <span class="key">description</span>: <span class="string"><span class="content">Identifier of batch or bulk request item.</span></span>
            <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
          <span class="key">status</span>:
            <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
              Response status value. A number or extensible enum describing
              the execution status of the batch or bulk request items.</span></span>
            <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
            <span class="key">x-extensible-enum</span>: <span class="string"><span class="content">[...]</span></span>
          <span class="key">description</span>:
            <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
              Human readable status description and containing additional
              context information about failures etc.</span></span>
            <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
        <span class="key">required</span>: <span class="string"><span class="content">[id, status]</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: while a <em>batch</em> defines a collection of requests triggering
independent processes, a <em>bulk</em> defines a collection of independent
resources created or updated together in one request. With respect to
response processing this distinction normally does not matter.</p>
</div>
</div>
<div class="sect2">
<h3 id="153"><a class="link" href="#153"><span class="must-keyword"><strong>MUST</strong></span> use code 429 with headers for rate limits</a></h3>
<div class="paragraph">
<p>APIs that wish to manage the request rate of clients must use the <a href="#status-code-429" class="status-code">429</a> (Too
Many Requests) response code, if the client exceeded the request rate (see
<a href="https://tools.ietf.org/html/rfc6585">RFC 6585</a>). Such responses must also contain header information
providing further details to the client. There are two approaches a service
can take for header information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Return a <a href="https://tools.ietf.org/html/rfc7231#section-7.1.3"><code>Retry-After</code></a> header indicating how long the client ought to wait
before making a follow-up request. The Retry-After header can contain a HTTP
date value to retry after or the number of seconds to delay. Either is
acceptable but APIs should prefer to use a delay in seconds.</p>
</li>
<li>
<p>Return a trio of <code>X-RateLimit</code> headers. These headers (described below) allow
a server to express a service level in the form of a number of allowing
requests within a given window of time and when the window is reset.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>X-RateLimit</code> headers are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>X-RateLimit-Limit</code>: The maximum number of requests that the client is
allowed to make in this window.</p>
</li>
<li>
<p><code>X-RateLimit-Remaining</code>: The number of requests allowed in the current
window.</p>
</li>
<li>
<p><code>X-RateLimit-Reset</code>: The relative time in seconds when the rate limit window
will be reset. <strong>Beware</strong> that this is different to Github and Twitter&#8217;s
usage of a header with the same name which is using UTC epoch seconds
instead.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The reason to allow both approaches is that APIs can have different
needs. Retry-After is often sufficient for general load handling and
request throttling scenarios and notably, does not strictly require the
concept of a calling entity such as a tenant or named account. In turn
this allows resource owners to minimise the amount of state they have to
carry with respect to client requests. The 'X-RateLimit' headers are
suitable for scenarios where clients are associated with pre-existing
account or tenancy structures. 'X-RateLimit' headers are generally
returned on every request and not just on a 429, which implies the
service implementing the API is carrying sufficient state to track the
number of requests made within a given window for each named entity.</p>
</div>
</div>
<div class="sect2">
<h3 id="176"><a class="link" href="#176"><span class="must-keyword"><strong>MUST</strong></span> support problem JSON</a></h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="177"><a class="link" href="#177"><span class="must-keyword"><strong>MUST</strong></span> not expose stack traces</a></h3>
<div class="paragraph">
<p>Stack traces contain implementation details that are not part of an API,
and on which clients should never rely. Moreover, stack traces can leak
sensitive information that partners and third parties are not allowed to
receive and may disclose insights about vulnerabilities to attackers.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="performance"><a class="link" href="#performance">15. Performance</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="157"><a class="link" href="#157"><span class="should-keyword"><strong>SHOULD</strong></span> support partial responses via filtering</a></h3>
<div class="paragraph">
<p>Depending on your use case and payload size, you can significantly reduce
network bandwidth need by supporting filtering of returned entity fields.
Here, the client can explicitly determine the subset of fields he wants to
receive via the <a href="#fields"><code>fields</code></a> query parameter. (It is analogue to
<a href="https://graphql.org/learn/queries/#fields">GraphQL <code>fields</code></a> and simple
queries, and also applied, for instance, for
<a href="https://cloud.google.com/storage/docs/json_api/v1/how-tos/performance#partial-response">Google
Cloud API&#8217;s partial responses</a>.)</p>
</div>
<div class="sect3">
<h4 id="unfiltered"><a class="link" href="#unfiltered">Unfiltered</a></h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">GET http://api.example.org/users/123 HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  &quot;id&quot;: &quot;cddd5e44-dae0-11e5-8c01-63ed66ab2da5&quot;,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;address&quot;: &quot;1600 Pennsylvania Avenue Northwest, Washington, DC, United States&quot;,
  &quot;birthday&quot;: &quot;1984-09-13&quot;,
  &quot;friends&quot;: [ {
    &quot;id&quot;: &quot;1fb43648-dae1-11e5-aa01-1fbc3abb1cd0&quot;,
    &quot;name&quot;: &quot;Jane Doe&quot;,
    &quot;address&quot;: &quot;1600 Pennsylvania Avenue Northwest, Washington, DC, United States&quot;,
    &quot;birthday&quot;: &quot;1988-04-07&quot;
  } ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="filtered"><a class="link" href="#filtered">Filtered</a></h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">GET http://api.example.org/users/123?fields=(name,friends(name)) HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;friends&quot;: [ {
    &quot;name&quot;: &quot;Jane Doe&quot;
  } ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <a href="#fields"><code>fields</code></a> query parameter determines the fields returned with the response
payload object. For instance, <code>(name)</code> returns <code>users</code> root object with only
the <code>name</code> field, and <code>(name,friends(name))</code> returns the <code>name</code> and the nested
<code>friends</code> object with only its <code>name</code> field.</p>
</div>
<div class="paragraph">
<p>OpenAPI doesn&#8217;t support you in formally specifying different return object
schemes depending on a parameter. When you define the field parameter, we
recommend to provide the following description: <code>Endpoint supports filtering
of return object fields as described in
[Rule #157](<a href="https://opensource.zalando.com/restful-api-guidelines/#157" class="bare">https://opensource.zalando.com/restful-api-guidelines/#157</a>)</code></p>
</div>
<div class="paragraph">
<p>The syntax of the query <a href="#fields"><code>fields</code></a> value is defined by the following
<a href="https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form">BNF</a> grammar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bnf">&lt;fields&gt;            ::= [ &lt;negation&gt; ] &lt;fields_struct&gt;
&lt;fields_struct&gt;     ::= &quot;(&quot; &lt;field_items&gt; &quot;)&quot;
&lt;field_items&gt;       ::= &lt;field&gt; [ &quot;,&quot; &lt;field_items&gt; ]
&lt;field&gt;             ::= &lt;field_name&gt; | &lt;fields_substruct&gt;
&lt;fields_substruct&gt;  ::= &lt;field_name&gt; &lt;fields_struct&gt;
&lt;field_name&gt;        ::= &lt;dash_letter_digit&gt; [ &lt;field_name&gt; ]
&lt;dash_letter_digit&gt; ::= &lt;dash&gt; | &lt;letter&gt; | &lt;digit&gt;
&lt;dash&gt;              ::= &quot;-&quot; | &quot;_&quot;
&lt;letter&gt;            ::= &quot;A&quot; | ... | &quot;Z&quot; | &quot;a&quot; | ... | &quot;z&quot;
&lt;digit&gt;             ::= &quot;0&quot; | ... | &quot;9&quot;
&lt;negation&gt;          ::= &quot;!&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> Following the
<a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">principle of
least astonishment</a>, you should not define the <a href="#fields"><code>fields</code></a> query parameter using
a default value, as the result is counter-intuitive and very likely not
anticipated by the consumer.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="158"><a class="link" href="#158"><span class="should-keyword"><strong>SHOULD</strong></span> allow optional embedding of sub-resources</a></h3>
<div class="paragraph">
<p>Embedding related resources (also know as <em>Resource expansion</em>) is a
great way to reduce the number of requests. In cases where clients know
upfront that they need some related resources they can instruct the
server to prefetch that data eagerly. Whether this is optimized on the
server, e.g. a database join, or done in a generic way, e.g. an HTTP
proxy that transparently embeds resources, is up to the implementation.</p>
</div>
<div class="paragraph">
<p>See <a href="#137"><span class="must-keyword"><strong>MUST</strong></span> stick to conventional query parameters</a> for naming, e.g. "embed" for steering of embedded
resource expansion. Please use the
<a href="https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form">BNF</a> grammar, as
already defined above for filtering, when it comes to an embedding query
syntax.</p>
</div>
<div class="paragraph">
<p>Embedding a sub-resource can possibly look like this where an order
resource has its order items as sub-resource (/order/{orderId}/items):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">GET /order/123?embed=(items) HTTP/1.1

{
  &quot;id&quot;: &quot;123&quot;,
  &quot;_embedded&quot;: {
    &quot;items&quot;: [
      {
        &quot;position&quot;: 1,
        &quot;sku&quot;: &quot;1234-ABCD-7890&quot;,
        &quot;price&quot;: {
          &quot;amount&quot;: 71.99,
          &quot;currency&quot;: &quot;EUR&quot;
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pagination"><a class="link" href="#pagination">16. Pagination</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="159"><a class="link" href="#159"><span class="must-keyword"><strong>MUST</strong></span> support pagination</a></h3>
<div class="paragraph">
<p>Access to lists of data items must support pagination to protect the service
against overload as well as for best client side iteration and batch processing
experience. This holds true for all lists that are (potentially) larger than
just a few hundred entries.</p>
</div>
<div class="paragraph">
<p>There are two well known page iteration techniques:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.sailpoint.com/idn/api/standard-collection-parameters#paginating-results">Offset/Limit-based
pagination</a>: numeric offset identifies the first page entry</p>
</li>
<li>
<p><a href="https://developer.x.com/en/docs/x-api/pagination">Cursor/Limit-based</a> — aka
key-based — pagination: a unique key element identifies the first page entry
(see also <a href="https://developers.facebook.com/docs/graph-api/results">Facebook’s guide</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The technical conception of pagination should also consider user experience
related issues. As mentioned in this
<a href="https://www.smashingmagazine.com/2016/03/pagination-infinite-scrolling-load-more-buttons/">article</a>,
jumping to a specific page is far less used than navigation via <a href="#next"><code>next</code></a>/<a href="#prev"><code>prev</code></a>
page links.</p>
</div>
<div class="paragraph">
<p>We currently prefer to use <a href="https://developer.sailpoint.com/idn/api/standard-collection-parameters#paginating-results">Offset/Limit-based pagination</a>.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> To provide a consistent look and feel of pagination patterns,
you must stick to the common query parameter names defined in <a href="#137"><span class="must-keyword"><strong>MUST</strong></span> stick to conventional query parameters</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="161"><a class="link" href="#161"><span class="may-keyword"><strong>MAY</strong></span> use pagination links where applicable</a></h3>
<div class="paragraph">
<p>To simplify client design, APIs should support simplified hypertext
controls for paginating over collections whenever applicable as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://myorg.api.identitynow.com/v3/resources?cursor=&lt;self-position&gt;</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://myorg.api.identitynow.com/v3/resources?cursor=&lt;first-position&gt;</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">prev</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://myorg.api.identitynow.com/v3/resources?cursor=&lt;previous-position&gt;</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">next</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://myorg.api.identitynow.com/v3/resources?cursor=&lt;next-position&gt;</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://myorg.api.identitynow.com/v3/resources?cursor=&lt;last-position&gt;</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">query-param-&lt;1&gt;</span><span class="delimiter">&quot;</span></span>: <span class="error">.</span><span class="error">.</span><span class="error">.</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">query-param-&lt;n&gt;</span><span class="delimiter">&quot;</span></span>: <span class="error">.</span><span class="error">.</span><span class="error">.</span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">items</span><span class="delimiter">&quot;</span></span>: [<span class="error">.</span><span class="error">.</span><span class="error">.</span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Remark:</strong> You should avoid providing a total count unless there is a clear
need to do so. Very often, there are significant system and performance
implications when supporting full counts. Especially, if the data set grows
and requests become complex queries and filters drive full scans. While this
is an implementation detail relative to the API, it is important to consider
the ability to support serving counts over the life of a service.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hypermedia"><a class="link" href="#hypermedia">17. Hypermedia</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="162"><a class="link" href="#162"><span class="must-keyword"><strong>MUST</strong></span> use REST maturity level 2</a></h3>
<div class="paragraph">
<p>We strive for a good implementation of
<a href="http://martinfowler.com/articles/richardsonMaturityModel.html#level2">REST
Maturity Level 2</a> as it enables us to build resource-oriented APIs that
make full use of HTTP verbs and status codes. You can see this expressed
by many rules throughout these guidelines, e.g.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#138"><span class="should-keyword"><strong>SHOULD</strong></span> avoid actions — think about resources</a></p>
</li>
<li>
<p><a href="#141"><span class="should-keyword"><strong>SHOULD</strong></span> keep URLs verb-free</a></p>
</li>
<li>
<p><a href="#148"><span class="must-keyword"><strong>MUST</strong></span> use HTTP methods correctly</a></p>
</li>
<li>
<p><a href="#150"><span class="must-keyword"><strong>MUST</strong></span> use standard HTTP status codes</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Although this is not HATEOAS, it should not prevent you from designing
proper link relationships in your APIs as stated in rules below.</p>
</div>
</div>
<div class="sect2">
<h3 id="217"><a class="link" href="#217"><span class="should-keyword"><strong>SHOULD</strong></span> use full, absolute URI</a></h3>
<div class="paragraph">
<p>Links to other resource should always use full, absolute URI.</p>
</div>
<div class="paragraph">
<p><strong>Motivation</strong>: Exposing any form of relative URI (no matter if the relative
URI uses an absolute or relative path) introduces avoidable client side
complexity. It also requires clarity on the base URI, which might not be given
when using features like embedding subresources. The primary advantage of
non-absolute URI is reduction of the payload size, which is better achievable
by following the recommendation to use gzip compression.</p>
</div>
</div>
<div class="sect2">
<h3 id="164"><a class="link" href="#164"><span class="must-keyword"><strong>MUST</strong></span> use common hypertext controls</a></h3>
<div class="paragraph">
<p>When embedding links to other resources into representations you must use the
common hypertext control object. It contains at least one attribute:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="href"></a><a href="#href"><code>href</code></a>: The URI of the resource the hypertext control is linking to.
All our API are using HTTP(s) as URI scheme.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In API that contain any hypertext controls, the attribute name <a href="#href"><code>href</code></a> is
reserved for usage within hypertext controls.</p>
</div>
<div class="paragraph">
<p>The schema for hypertext controls can be derived from this model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">HttpLink</span>:
  <span class="key">description</span>: <span class="string"><span class="content">A base type of objects representing links to resources.</span></span>
  <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
  <span class="key">properties</span>:
    <span class="key">href</span>:
      <span class="key">description</span>: <span class="string"><span class="content">Any URI that is using http or https protocol</span></span>
      <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
      <span class="key">format</span>: <span class="string"><span class="content">uri</span></span>
  <span class="key">required</span>:
    - <span class="string"><span class="content">href</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The name of an attribute holding such a <code>HttpLink</code> object specifies the
relation between the object that contains the link and the linked
resource. Implementations should use names from the <a href="http://www.iana.org/assignments/link-relations">IANA
Link Relation Registry</a> whenever appropriate. As IANA link relation
names use hyphen-case notation, while this guide enforces snake_case
notation for attribute names, hyphens in IANA names have to be replaced
with underscores (e.g. the IANA link relation type <code>version-history</code>
would become the attribute <code>version_history</code>)</p>
</div>
<div class="paragraph">
<p>Specific link objects may extend the basic link type with additional
attributes, to give additional information related to the linked
resource or the relationship between the source resource and the linked
one.</p>
</div>
<div class="paragraph">
<p>E.g. a service providing "Person" resources could model a person who is
married with some other person with a hypertext control that contains
attributes which describe the other person (<code>id</code>, <code>name</code>) but also the
relationship "spouse" between the two persons (<code>since</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">446f9876-e89b-12d3-a456-426655440000</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Peter Mustermann</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">spouse</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://...</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">since</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1996-12-19</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">123e4567-e89b-12d3-a456-426655440000</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Linda Mustermann</span><span class="delimiter">&quot;</span></span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hypertext controls are allowed anywhere within a JSON model. While this
specification would allow
<a href="http://stateless.co/hal_specification.html">HAL</a>, we actually don&#8217;t
recommend/enforce the usage of HAL anymore as the structural separation
of meta-data and data creates more harm than value to the
understandability and usability of an API.</p>
</div>
</div>
<div class="sect2">
<h3 id="166"><a class="link" href="#166"><span class="must-keyword"><strong>MUST</strong></span> not use link headers with JSON entities</a></h3>
<div class="paragraph">
<p>For flexibility and precision, we prefer links to be directly embedded in the
JSON payload instead of being attached using the uncommon link header syntax.
As a result, the use of the <a href="https://tools.ietf.org/html/rfc8288#section-3"><code>Link</code> Header defined by RFC
8288</a> in conjunction with JSON media types is forbidden.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="standard-headers"><a class="link" href="#standard-headers">18. Standard headers</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes a handful of standard headers, which we found raising the most
questions in our daily usage, or which are useful in particular circumstances
but not widely known.</p>
</div>
<div class="sect2">
<h3 id="133"><a class="link" href="#133"><span class="may-keyword"><strong>MAY</strong></span> use standardized headers</a></h3>
<div class="paragraph">
<p>Use <a href="https://datatracker.ietf.org/doc/html/rfc2616#section-4.2">this list</a> and
explicitly mention its support in your OpenAPI definition.</p>
</div>
</div>
<div class="sect2">
<h3 id="132"><a class="link" href="#132"><span class="should-keyword"><strong>SHOULD</strong></span> use uppercase separate words with hyphens for HTTP headers</a></h3>
<div class="paragraph">
<p>This convention is followed by most standard headers e.g. as defined in
<a href="https://tools.ietf.org/html/rfc2616">RFC 2616</a> and <a href="https://tools.ietf.org/html/rfc4229">RFC 4229</a>. Examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">If-Modified-Since
Accept-Encoding
Content-ID
Language</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note, HTTP standard defines headers as case-insensitive (<a href="https://tools.ietf.org/html/rfc7230#page-22">RFC 7230, p.22</a>).
However, for sake of readability and consistency you should follow the convention when
using standard or proprietary headers. Exceptions are common abbreviations like <code>ID</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="178"><a class="link" href="#178"><span class="must-keyword"><strong>MUST</strong></span> use <code>Content-*</code> headers correctly</a></h3>
<div class="paragraph">
<p>Content or entity headers are headers with a <code>Content-</code> prefix. They describe
the content of the body of the message and they can be used in both, HTTP
requests and responses. Commonly used content headers include but are not
limited to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://tools.ietf.org/html/rfc6266#section-3.1.4.2"><code>Content-Disposition</code></a> can indicate that the representation is supposed to be
saved as a file, and the proposed file name.</p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.2.2"><code>Content-Encoding</code></a> indicates compression or encryption algorithms applied to
the content.</p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7230#section-3.3.2"><code>Content-Length</code></a> indicates the length of the content (in bytes).</p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.3.2"><code>Content-Language</code></a> indicates that the body is meant for people literate in
some human language(s).</p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2"><code>Content-Location</code></a> indicates where the body can be found otherwise (<a href="#179"><span class="may-keyword"><strong>MAY</strong></span> use <code>Content-Location</code> header</a>
for more details]).</p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7233#section-4.2"><code>Content-Range</code></a> is used in responses to range requests to indicate which part
of the requested resource representation is delivered with the body.</p>
</li>
<li>
<p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5"><code>Content-Type</code></a> indicates the media type of the body content.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="180"><a class="link" href="#180"><span class="should-keyword"><strong>SHOULD</strong></span> use <code>Location</code> header instead of <code>Content-Location</code> header</a></h3>
<div class="paragraph">
<p>As the correct usage of <a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2"><code>Content-Location</code></a> response header (see below) with respect
to caching and its method specific semantics is difficult, we <em>discourage</em> the use
of <a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2"><code>Content-Location</code></a>.
In most cases it is sufficient to inform clients about the resource location
in create or re-direct responses by using the <a href="https://tools.ietf.org/html/rfc7231#section-7.1.2"><code>Location</code></a> header while avoiding
the <a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2"><code>Content-Location</code></a> specific ambiguities and complexities.</p>
</div>
<div class="paragraph">
<p>More details in RFC 7231 <a href="https://tools.ietf.org/html/rfc7231#section-7.1.2">7.1.2 Location</a>,
<a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2">3.1.4.2 Content-Location</a></p>
</div>
</div>
<div class="sect2">
<h3 id="179"><a class="link" href="#179"><span class="may-keyword"><strong>MAY</strong></span> use <code>Content-Location</code> header</a></h3>
<div class="paragraph">
<p>The <a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2"><code>Content-Location</code></a> header is <em>optional</em> and can be used in successful write
operations (<a href="#put"><code>PUT</code></a>, <a href="#post"><code>POST</code></a>, or <a href="#patch"><code>PATCH</code></a>) or read operations (<a href="#get"><code>GET</code></a>, <a href="#head"><code>HEAD</code></a>) to
guide caching and signal a receiver the actual location of the resource
transmitted in the response body. This allows clients to identify the resource
and to update their local copy when receiving a response with this header.</p>
</div>
<div class="paragraph">
<p>The Content-Location header can be used to support the following use cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For reading operations <a href="#get"><code>GET</code></a> and <a href="#head"><code>HEAD</code></a>, a different location than the
requested URI can be used to indicate that the returned resource is subject
to content negotiations, and that the value provides a more specific
identifier of the resource.</p>
</li>
<li>
<p>For writing operations <a href="#put"><code>PUT</code></a> and <a href="#patch"><code>PATCH</code></a>, an identical location to the
requested URI can be used to explicitly indicate that the returned resource
is the current representation of the newly created or updated resource.</p>
</li>
<li>
<p>For writing operations <a href="#post"><code>POST</code></a> and <a href="#delete"><code>DELETE</code></a>, a content location can be used to
indicate that the body contains a status report resource in response to the
requested action, which is available at provided location.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Note</strong>: When using the <a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2"><code>Content-Location</code></a> header, the <a href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5"><code>Content-Type</code></a> header
has to be set as well. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">GET /products/123/images HTTP/1.1

HTTP/1.1 200 OK
Content-Type: image/png
Content-Location: /products/123/images?format=raw</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="181"><a class="link" href="#181"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>Prefer</code> header to handle processing preferences</a></h3>
<div class="paragraph">
<p>The <a href="https://tools.ietf.org/html/rfc7240"><code>Prefer</code></a> header defined in <a href="https://tools.ietf.org/html/rfc7240">RFC 7240</a> allows clients to request
processing behaviors from servers. It pre-defines a number of preferences and
is extensible, to allow others to be defined. Support for the <a href="https://tools.ietf.org/html/rfc7240"><code>Prefer</code></a> header
is entirely optional and at the discretion of API designers, but as an existing
Internet Standard, is recommended over defining proprietary "X-" headers for
processing directives.</p>
</div>
<div class="paragraph">
<p>The <a href="https://tools.ietf.org/html/rfc7240"><code>Prefer</code></a> header can defined like this in an API definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">components</span>:
  <span class="key">headers</span>:
  - <span class="string"><span class="content">Prefer:</span><span class="content">
      description: &gt;
        The RFC7240 Prefer header indicates that a particular server behavior
        is preferred by the client but is not required for successful completion
        of the request (see [RFC 7240](https://tools.ietf.org/html/rfc7240).
        The following behaviors are supported by this API:

        # (indicate the preferences supported by the API or API endpoint)
        * **respond-async** is used to suggest the server to respond as fast as
          possible asynchronously using 202 - accepted - instead of waiting for
          the result.
        * **return=&lt;minimal|representation&gt;** is used to suggest the server to
          return using 204 without resource (minimal) or using 200 or 201 with
          resource (representation) in the response body on success.
        * **wait=&lt;delta-seconds&gt;** is used to suggest a maximum time the server
          has time to process the request synchronously.
        * **handling=&lt;strict|lenient&gt;** is used to suggest the server to be
          strict and report error conditions or lenient, i.e. robust and try to
          continue, if possible.

      type: array
      items:
        type: string
      required: false</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> Please copy only the behaviors into your <a href="https://tools.ietf.org/html/rfc7240"><code>Prefer</code></a> header specification
that are supported by your API endpoint. If necessary, specify different
<a href="https://tools.ietf.org/html/rfc7240"><code>Prefer</code></a> headers for each supported use case.</p>
</div>
<div class="paragraph">
<p>Supporting APIs may return the <a href="https://tools.ietf.org/html/rfc7240#section-3"><code>Preference-Applied</code></a> header also defined in
<a href="https://tools.ietf.org/html/rfc7240">RFC 7240</a> to indicate whether a preference has been applied.</p>
</div>
</div>
<div class="sect2">
<h3 id="182"><a class="link" href="#182"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>ETag</code> together with <code>If-Match</code>/<code>If-None-Match</code> header</a></h3>
<div class="paragraph">
<p>When creating or updating resources it may be necessary to expose conflicts
and to prevent the 'lost update' or 'initially created' problem. Following
<a href="https://tools.ietf.org/html/rfc7232">RFC 7232 "HTTP: Conditional Requests"</a> this can be best accomplished
by supporting the <a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a> header together with the <a href="https://tools.ietf.org/html/rfc7232#section-3.1"><code>If-Match</code></a> or <a href="https://tools.ietf.org/html/rfc7232#section-3.2"><code>If-None-Match</code></a>
conditional header. The contents of an <code>ETag: &lt;entity-tag&gt;</code> header is either
(a) a hash of the response body, (b) a hash of the last modified field of the
entity, or (c) a version number or identifier of the entity version.</p>
</div>
<div class="paragraph">
<p>To expose conflicts between concurrent update operations via <a href="#put"><code>PUT</code></a>, <a href="#post"><code>POST</code></a>, or
<a href="#patch"><code>PATCH</code></a>, the <code>If-Match: &lt;entity-tag&gt;</code> header can be used to force the server to
check whether the version of the updated entity is conforming to the requested
<a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>&lt;entity-tag&gt;</code></a>. If no matching entity is found, the operation is supposed a to
respond with status code <a href="#status-code-412" class="status-code">412</a> - precondition failed.</p>
</div>
<div class="paragraph">
<p>Beside other use cases, <code>If-None-Match: *</code> can be used in a similar way to
expose conflicts in resource creation. If any matching entity is found, the
operation is supposed a to respond with status code <a href="#status-code-412" class="status-code">412</a> - precondition
failed.</p>
</div>
<div class="paragraph">
<p>The <a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a>, <a href="https://tools.ietf.org/html/rfc7232#section-3.1"><code>If-Match</code></a>, and <a href="https://tools.ietf.org/html/rfc7232#section-3.2"><code>If-None-Match</code></a> headers can be defined as follows
in the API definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">components</span>:
  <span class="key">headers</span>:
  - <span class="string"><span class="content">ETag:</span><span class="content">
      description: |
        The RFC 7232 ETag header field in a response provides the entity-tag of
        a selected resource. The entity-tag is an opaque identifier for versions
        and representations of the same resource over time, regardless whether
        multiple versions are valid at the same time. An entity-tag consists of
        an opaque quoted string, possibly prefixed by a weakness indicator (see
        [RFC 7232 Section 2.3](https://tools.ietf.org/html/rfc7232#section-2.3).

      type: string
      required: false
      example: W/&quot;xy&quot;, &quot;5&quot;, &quot;5db68c06-1a68-11e9-8341-68f728c1ba70&quot;</span></span>

  - <span class="string"><span class="content">If-Match:</span><span class="content">
      description: |
        The RFC7232 If-Match header field in a request requires the server to
        only operate on the resource that matches at least one of the provided
        entity-tags. This allows clients express a precondition that prevent
        the method from being applied if there have been any changes to the
        resource (see [RFC 7232 Section
        3.1](https://tools.ietf.org/html/rfc7232#section-3.1).

      type: string
      required: false
      example: &quot;5&quot;, &quot;7da7a728-f910-11e6-942a-68f728c1ba70&quot;</span></span>

  - <span class="string"><span class="content">If-None-Match:</span><span class="content">
      description: |
        The RFC7232 If-None-Match header field in a request requires the server
        to only operate on the resource if it does not match any of the provided
        entity-tags. If the provided entity-tag is `*`, it is required that the
        resource does not exist at all (see [RFC 7232 Section
        3.2](https://tools.ietf.org/html/rfc7232#section-3.2).

      type: string
      required: false
      example: &quot;7da7a728-f910-11e6-942a-68f728c1ba70&quot;, *</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Please see <a href="#optimistic-locking">Optimistic locking in RESTful APIs</a> for a detailed discussion and options.</p>
</div>
</div>
<div class="sect2">
<h3 id="230"><a class="link" href="#230"><span class="may-keyword"><strong>MAY</strong></span> consider to support <code>Idempotency-Key</code> header</a></h3>
<div class="paragraph">
<p>When creating or updating resources it can be helpful or necessary to ensure a
strong <a href="#idempotent">idempotent</a> behavior comprising same responses, to prevent duplicate
execution in case of retries after timeout and network outages. Generally, this
can be achieved by sending a client specific <em>unique request key</em> – that is not
part of the resource – via <a href="#230"><code>Idempotency-Key</code></a> header.</p>
</div>
<div class="paragraph">
<p>The <em>unique request key</em> is stored temporarily, e.g. for 24 hours, together
with the response and the request hash (optionally) of the first request in a
key cache, regardless of whether it succeeded or failed. The service can now
look up the <em>unique request key</em> in the key cache and serve the response from
the key cache, instead of re-executing the request, to ensure <a href="#idempotent">idempotent</a>
behavior. Optionally, it can check the request hash for consistency before
serving the response. If the key is not in the key store, the request is
executed as usual and the response is stored in the key cache.</p>
</div>
<div class="paragraph">
<p>This allows clients to safely retry requests after timeouts, network outages,
etc. while receive the same response multiple times. <strong>Note:</strong> The request retry
in this context requires to send the exact same request, i.e. updates of the
request that would change the result are off-limits. The request hash in the
key cache can protection against this misbehavior. The service is recommended
to reject such a request using status code <a href="#status-code-400" class="status-code">400</a>.</p>
</div>
<div class="paragraph">
<p><strong>Important:</strong> To grant a reliable <a href="#idempotent">idempotent</a> execution semantic, the
resource and the key cache have to be updated with hard transaction semantics
– considering all potential pitfalls of failures, timeouts, and concurrent
requests in a distributed systems. This makes a correct implementation
exceeding the local context very hard.</p>
</div>
<div class="paragraph">
<p>The <a href="#230"><code>Idempotency-Key</code></a> header must be defined as follows, but you are free to
choose your expiration time:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">components</span>:
  <span class="key">headers</span>:
  - <span class="string"><span class="content">Idempotency-Key:</span><span class="content">
      description: |
        The idempotency key is a free identifier created by the client to
        identify a request. It is used by the service to identify subsequent
        retries of the same request and ensure idempotent behavior by sending
        the same response without executing the request a second time.

        Clients should be careful as any subsequent requests with the same key
        may return the same response without further check. Therefore, it is
        recommended to use an UUID version 4 (random) or any other random
        string with enough entropy to avoid collisions.

        Idempotency keys expire after 24 hours. Clients are responsible to stay
        within this limits, if they require idempotent behavior.

      type: string
      format: uuid
      required: false
      example: &quot;7da7a728-f910-11e6-942a-68f728c1ba70&quot;</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Hint:</strong> The key cache is not intended as request log, and therefore should
have a limited lifetime, else it could easily exceed the data resource in
size.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> The <a href="#230"><code>Idempotency-Key</code></a> header unlike other headers in this section
is not standardized in an RFC. Our only reference are the usage in the
<a href="https://stripe.com/docs/api/idempotent_requests">Stripe API</a>. However, as it
fit not into our section about proprietary-headers, and we did not want
to change the header name and semantic, we decided to treat it as any other
common header.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api-operation"><a class="link" href="#api-operation">19. API Operation</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="192"><a class="link" href="#192"><span class="must-keyword"><strong>MUST</strong></span> publish OpenAPI specification</a></h3>
<div class="paragraph">
<p>All service applications must publish OpenAPI specifications of their external
APIs. While this is optional for internal APIs, i.e. APIs marked with the
<strong>component-internal</strong> <a href="#219">API audience</a> group, we still recommend to do so
to profit from the API management infrastructure.</p>
</div>
<div class="paragraph">
<p>IDN APIs are published from an internal GitHub repository.  All other APIs will
need to be submitted to the Developer Relations team for publishing.</p>
</div>
</div>
<div class="sect2">
<h3 id="193"><a class="link" href="#193"><span class="must-keyword"><strong>MUST</strong></span> monitor API usage</a></h3>
<div class="paragraph">
<p>Owners of APIs used in production should monitor API service to get
information about its using clients. This information, for instance, is
useful to identify potential review partner for API changes.</p>
</div>
<div class="paragraph">
<p>Hint: A preferred way of client detection implementation is by logging
of the client-id retrieved from the OAuth token.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-references"><a class="link" href="#appendix-references">Appendix A: References</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section collects links to documents to which we refer, and base our guidelines on.</p>
</div>
<div class="sect2">
<h3 id="openapi-specification"><a class="link" href="#openapi-specification">OpenAPI specification</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong><a href="https://github.com/OAI/OpenAPI-Specification/">OpenAPI specification</a></strong></p>
</li>
<li>
<p><strong><a href="https://openapi-map.apihandyman.io/">OpenAPI specification mind map</a></strong></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="publications-specifications-and-standards"><a class="link" href="#publications-specifications-and-standards">Publications, specifications and standards</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a>:</strong> Date and Time on the Internet: Timestamps</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc4122">RFC 4122</a>:</strong> A Universally Unique IDentifier (UUID) URN Namespace</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc4627">RFC 4627</a>:</strong> The application/json Media Type for JavaScript Object Notation (JSON)</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc8288">RFC 8288</a>:</strong> Web Linking</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc6585">RFC 6585</a>:</strong> Additional HTTP Status Codes</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc6902">RFC 6902</a>:</strong> JavaScript Object Notation (JSON) Patch</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7159">RFC 7159</a>:</strong> The JavaScript Object Notation (JSON) Data Interchange Format</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7230">RFC 7230</a>:</strong> Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7231">RFC 7231</a>:</strong> Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7232">RFC 7232</a>:</strong> Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7233">RFC 7233</a>:</strong> Hypertext Transfer Protocol (HTTP/1.1): Range Requests</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7234">RFC 7234</a>:</strong> Hypertext Transfer Protocol (HTTP/1.1): Caching</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7240">RFC 7240</a>:</strong> Prefer Header for HTTP</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7396">RFC 7396</a>:</strong> JSON Merge Patch</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc7807">RFC 7807</a>:</strong> Problem Details for HTTP APIs</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/rfc4648">RFC 4648</a>:</strong> The Base16, Base32, and Base64 Data Encodings</p>
</li>
<li>
<p><strong><a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>:</strong> Date and time format</p>
</li>
<li>
<p><strong><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2</a>:</strong> Two letter country codes</p>
</li>
<li>
<p><strong><a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a>:</strong> Two letter language codes</p>
</li>
<li>
<p><strong><a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a>:</strong> Currency codes</p>
</li>
<li>
<p><strong><a href="https://tools.ietf.org/html/bcp47">BCP 47</a>:</strong> Tags for Identifying Languages</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="dissertations"><a class="link" href="#dissertations">Dissertations</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong><a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">Roy Thomas
Fielding - Architectural Styles and the Design of Network-Based Software
Architectures</a>:</strong> This is the text which defines what REST is.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="books"><a class="link" href="#books">Books</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong><a href="http://www.amazon.de/REST-Practice-Hypermedia-Systems-Architecture/dp/0596805829">REST in Practice: Hypermedia and Systems Architecture</a></strong></p>
</li>
<li>
<p><strong><a href="https://leanpub.com/build-apis-you-wont-hate">Build APIs You Won&#8217;t Hate</a></strong></p>
</li>
<li>
<p><strong><a href="http://www.infoq.com/minibooks/emag-web-api">InfoQ eBook - Web APIs: From Start to Finish</a></strong></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="blogs"><a class="link" href="#blogs">Blogs</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong><a href="http://restful-api-design.readthedocs.org/en/latest/">Lessons-learned blog: Thoughts on RESTful API Design</a></strong></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-tooling"><a class="link" href="#appendix-tooling">Appendix B: Tooling</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is not a part of the actual guidelines, but might be helpful for following them.
Using a tool mentioned here doesn&#8217;t automatically ensure you follow the guidelines.</p>
</div>
<div class="sect2">
<h3 id="api-first-integrations"><a class="link" href="#api-first-integrations">API first integrations</a></h3>
<div class="paragraph">
<p>The following software was specifically designed to support the API First
workflow with OpenAPI YAML files (sorted alphabetically):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><a href="https://github.com/sailpoint-oss/api-linter">API Linter</a>:</strong>
SailPoint&#8217;s API linter using Spectral</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Swagger/OpenAPI homepage lists more
<a href="http://swagger.io/open-source-integrations/">Community-Driven Language
Integrations</a>, but most of them do not fit our API First approach.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-best-practices"><a class="link" href="#appendix-best-practices">Appendix C: Best practices</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The best practices presented in this section are not part of the actual
guidelines, but should provide guidance for common challenges we face when
implementing RESTful APIs.</p>
</div>
<div class="sect2">
<h3 id="cursor-based-pagination"><a class="link" href="#cursor-based-pagination">Cursor-based pagination in RESTful APIs</a></h3>
<div class="paragraph">
<p>Cursor-based pagination is a very powerful and valuable technique,
that allows to efficiently provide a stable view on changing data.
This is obtained by using an anchor element that allows to retrieve all page
elements directly via an ordering combined-index, usually based on <code>created_at</code>
or <code>modified_at</code>. Simply said, the cursor is the information set needed to
reconstruct the database query to retrieves the minimal page information from
the data storage.</p>
</div>
<div class="paragraph">
<p>The <a href="#cursor"><code>cursor</code></a> itself is an opaque string, transmitted forth and back between
service and clients, that must never be <strong>inspected</strong> or <strong>constructed</strong> by
clients. Therefore, it is good practice to encode (encrypt) its content in a
non-human-readable form.</p>
</div>
<div class="paragraph">
<p>The <a href="#cursor"><code>cursor</code></a> content usually consists of a pointer to the anchor element
defining the page position in the collection, a flag whether the element is
included or excluded into/from the page, the retrieval direction, and a hash
over the applied query filters (or the query filter itself) to safely re-create
the collection. It is important to note, that a <a href="#cursor"><code>cursor</code></a> should be always
defined in relation to the current page to anticipate all occurring changes
when progressing.</p>
</div>
<div class="paragraph">
<p>The <a href="#cursor"><code>cursor</code></a> is usually defined as an encoding of the following information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">Cursor</span>:
  <span class="key">descriptions</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
    Cursor structure that contains all necessary information to efficiently
    retrieve a page from the data store.</span></span>
  <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
  <span class="key">properties</span>:
    <span class="key">position</span>:
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
        Object containing the keys pointing to the anchor element that is
        defining the collection resource page. Normally the position is given
        by the first or the last page element. The position object contains all
        values required to access the element efficiently via the ordered,
        combined index, e.g `modified_at`, `id`.</span></span>
      <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
      <span class="key">properties</span>: <span class="string"><span class="content">...</span></span>

    <span class="key">element</span>:
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
        Flag whether the anchor element, which is pointed to by the `position`,
        should be *included* or *excluded* from the result set. Normally, only
        the current page includes the pointed to element, while all others are
        exclude it.</span></span>
      <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
      <span class="key">enum</span>: <span class="string"><span class="content">[ INCLUDED, EXCLUDED ]</span></span>

    <span class="key">direction</span>:
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
        Flag for the retrieval direction that is defining which elements to
        choose from the collection resource starting from the anchor elements
        position. It is either *ascending* or *descending* based on the
        ordering combined index.</span></span>
      <span class="key">type</span>: <span class="string"><span class="content">string</span></span>
      <span class="key">enum</span>: <span class="string"><span class="content">[ ASCENDING, DESCENDING ]</span></span>

    <span class="key">query_hash</span>:
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
        Stable hash calculated over all query filters applied to create the
        collection resource that is represented by this cursor.</span></span>
      <span class="key">type</span>: <span class="string"><span class="content">string</span></span>

    <span class="key">query</span>:
      <span class="key">description</span>: <span class="string"><span class="delimiter">&gt;</span><span class="content">
        Object containing all query filters applied to create the collection
        resource that is represented by this cursor.</span></span>
      <span class="key">type</span>: <span class="string"><span class="content">object</span></span>
      <span class="key">properties</span>: <span class="string"><span class="content">...</span></span>

  <span class="key">required</span>:
    - <span class="string"><span class="content">position</span></span>
    - <span class="string"><span class="content">element</span></span>
    - <span class="string"><span class="content">direction</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note:</strong> In case of complex and long search requests, e.g. when <a href="#get-with-body"><code>GET with body</code></a>
is already required, the <a href="#cursor"><code>cursor</code></a> may not be able to include the <code>query</code> because
of common HTTP parameter size restrictions. In this case the <code>query</code> filters
should be transported via body - in the request as well as in the response,
while the pagination consistency should be ensured via the <code>query_hash</code>.</p>
</div>
<div class="paragraph">
<p><strong>Remark:</strong> It is also important to check the efficiency of the data-access.
You need to make sure that you have a fully ordered stable index, that allows
to efficiently resolve all elements of a page. If necessary, you need to
provide a combined index that includes the <code>id</code> to ensure the full order and
additional filter criteria to ensure efficiency.</p>
</div>
<div class="sect3">
<h4 id="_further_reading"><a class="link" href="#_further_reading">Further reading</a></h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://dev.twitter.com/rest/public/timelines">Twitter</a></p>
</li>
<li>
<p><a href="http://use-the-index-luke.com/no-offset">Use the Index, Luke</a></p>
</li>
<li>
<p><a href="https://www.citusdata.com/blog/1872-joe-nelson/409-five-ways-paginate-postgres-basic-exotic">Paging
in PostgreSQL</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="optimistic-locking"><a class="link" href="#optimistic-locking">Optimistic locking in RESTful APIs</a></h3>
<div class="sect3">
<h4 id="_introduction"><a class="link" href="#_introduction">Introduction</a></h4>
<div class="paragraph">
<p>Optimistic locking might be used to avoid concurrent writes on the same entity,
which might cause data loss. A client always has to retrieve a copy of an
entity first and specifically update this one. If another version has been
created in the meantime, the update should fail. In order to make this work,
the client has to provide some kind of version reference, which is checked by
the service, before the update is executed. Please read the more detailed
description on how to update resources via <a href="#put"><code>PUT</code></a> in the <a href="#updating-an-object-by-full-replacement">HTTP Requests
Section</a>.</p>
</div>
<div class="paragraph">
<p>A RESTful API usually includes some kind of search endpoint, which will then
return a list of result entities. There are several ways to implement
optimistic locking in combination with search endpoints which, depending on the
approach chosen, might lead to performing additional requests to get the
current version of the entity that should be updated.</p>
</div>
</div>
<div class="sect3">
<h4 id="_etag_with_if_match_header"><a class="link" href="#_etag_with_if_match_header"><code>ETag</code> with <code>If-Match</code> header</a></h4>
<div class="paragraph">
<p>An <a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a> can only be obtained by performing a <a href="#get"><code>GET</code></a> request on the single
entity resource before the update, i.e. when using a search endpoint an
additional request is necessary.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&lt; GET /orders

&gt; HTTP/1.1 200 OK
&gt; {
&gt;   &quot;items&quot;: [
&gt;     { &quot;id&quot;: &quot;O0000042&quot; },
&gt;     { &quot;id&quot;: &quot;O0000043&quot; }
&gt;   ]
&gt; }

&lt; GET /orders/BO0000042

&gt; HTTP/1.1 200 OK
&gt; ETag: osjnfkjbnkq3jlnksjnvkjlsbf
&gt; { &quot;id&quot;: &quot;BO0000042&quot;, ... }

&lt; PUT /orders/O0000042
&lt; If-Match: osjnfkjbnkq3jlnksjnvkjlsbf
&lt; { &quot;id&quot;: &quot;O0000042&quot;, ... }

&gt; HTTP/1.1 204 No Content</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, if there was an update since the <a href="#get"><code>GET</code></a> and the entity&#8217;s <a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a> has changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&gt; HTTP/1.1 412 Precondition failed</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_pros_2"><a class="link" href="#_pros_2">Pros</a></h5>
<div class="ulist">
<ul>
<li>
<p>RESTful solution</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_cons_2"><a class="link" href="#_cons_2">Cons</a></h5>
<div class="ulist">
<ul>
<li>
<p>Many additional requests are necessary to build a meaningful front-end</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="etag-in-result-entities"><a class="link" href="#etag-in-result-entities"><code>ETags</code> in result entities</a></h4>
<div class="paragraph">
<p>The ETag for every entity is returned as an additional property of that entity.
In a response containing multiple entities, every entity will then have a
distinct <a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a> that can be used in subsequent <a href="#put"><code>PUT</code></a> requests.</p>
</div>
<div class="paragraph">
<p>In this solution, the <code>etag</code> property should be <code>readonly</code> and never be expected
in the <a href="#put"><code>PUT</code></a> request payload.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&lt; GET /orders

&gt; HTTP/1.1 200 OK
&gt; {
&gt;   &quot;items&quot;: [
&gt;     { &quot;id&quot;: &quot;O0000042&quot;, &quot;etag&quot;: &quot;osjnfkjbnkq3jlnksjnvkjlsbf&quot;, &quot;foo&quot;: 42, &quot;bar&quot;: true },
&gt;     { &quot;id&quot;: &quot;O0000043&quot;, &quot;etag&quot;: &quot;kjshdfknjqlowjdsljdnfkjbkn&quot;, &quot;foo&quot;: 24, &quot;bar&quot;: false }
&gt;   ]
&gt; }

&lt; PUT /orders/O0000042
&lt; If-Match: osjnfkjbnkq3jlnksjnvkjlsbf
&lt; { &quot;id&quot;: &quot;O0000042&quot;, &quot;foo&quot;: 43, &quot;bar&quot;: true }

&gt; HTTP/1.1 204 No Content</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, if there was an update since the <a href="#get"><code>GET</code></a> and the entity&#8217;s <a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a> has changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&gt; HTTP/1.1 412 Precondition failed</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_pros_3"><a class="link" href="#_pros_3">Pros</a></h5>
<div class="ulist">
<ul>
<li>
<p>Perfect optimistic locking</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_cons_3"><a class="link" href="#_cons_3">Cons</a></h5>
<div class="ulist">
<ul>
<li>
<p>Information that only belongs in the HTTP header is part of the business
objects</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_numbers"><a class="link" href="#_version_numbers">Version numbers</a></h4>
<div class="paragraph">
<p>The entities contain a property with a version number. When an update is
performed, this version number is given back to the service as part of the
payload. The service performs a check on that version number to make sure it
was not incremented since the consumer got the resource and performs the
update, incrementing the version number.</p>
</div>
<div class="paragraph">
<p>Since this operation implies a modification of the resource by the service, a
<a href="#post"><code>POST</code></a> operation on the exact resource (e.g. <code>POST /orders/O0000042</code>) should be
used instead of a <a href="#put"><code>PUT</code></a>.</p>
</div>
<div class="paragraph">
<p>In this solution, the <code>version</code> property is not <code>readonly</code> since it is provided
at <a href="#post"><code>POST</code></a> time as part of the payload.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&lt; GET /orders

&gt; HTTP/1.1 200 OK
&gt; {
&gt;   &quot;items&quot;: [
&gt;     { &quot;id&quot;: &quot;O0000042&quot;, &quot;version&quot;: 1,  &quot;foo&quot;: 42, &quot;bar&quot;: true },
&gt;     { &quot;id&quot;: &quot;O0000043&quot;, &quot;version&quot;: 42, &quot;foo&quot;: 24, &quot;bar&quot;: false }
&gt;   ]
&gt; }

&lt; POST /orders/O0000042
&lt; { &quot;id&quot;: &quot;O0000042&quot;, &quot;version&quot;: 1, &quot;foo&quot;: 43, &quot;bar&quot;: true }

&gt; HTTP/1.1 204 No Content</code></pre>
</div>
</div>
<div class="paragraph">
<p>or if there was an update since the <a href="#get"><code>GET</code></a> and the version number in the
database is higher than the one given in the request body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&gt; HTTP/1.1 409 Conflict</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_pros_4"><a class="link" href="#_pros_4">Pros</a></h5>
<div class="ulist">
<ul>
<li>
<p>Perfect optimistic locking</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_cons_4"><a class="link" href="#_cons_4">Cons</a></h5>
<div class="ulist">
<ul>
<li>
<p>Functionality that belongs into the HTTP header becomes part of the
business object</p>
</li>
<li>
<p>Using <a href="#post"><code>POST</code></a> instead of PUT for an update logic (not a problem in itself,
but may feel unusual for the consumer)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_last_modified_if_unmodified_since"><a class="link" href="#_last_modified_if_unmodified_since"><code>Last-Modified</code> / <code>If-Unmodified-Since</code></a></h4>
<div class="paragraph">
<p>In HTTP 1.0 there was no <a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a> and the mechanism used for optimistic locking
was based on a date. This is still part of the HTTP protocol and can be used.
Every response contains a <a href="https://tools.ietf.org/html/rfc7232#section-2.2"><code>Last-Modified</code></a> header with a HTTP date. When
requesting an update using a <a href="#put"><code>PUT</code></a> request, the client has to provide this
value via the header <a href="https://tools.ietf.org/html/rfc7232#section-3.4"><code>If-Unmodified-Since</code></a>. The server rejects the request, if
the last modified date of the entity is after the given date in the header.</p>
</div>
<div class="paragraph">
<p>This effectively catches any situations where a change that happened between
<a href="#get"><code>GET</code></a> and <a href="#put"><code>PUT</code></a> would be overwritten. In the case of multiple result entities,
the <a href="https://tools.ietf.org/html/rfc7232#section-2.2"><code>Last-Modified</code></a> header will be set to the latest date of all the entities.
This ensures that any change to any of the entities that happens between <a href="#get"><code>GET</code></a>
and <a href="#put"><code>PUT</code></a> will be detectable, without locking the rest of the batch as well.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&lt; GET /orders

&gt; HTTP/1.1 200 OK
&gt; Last-Modified: Wed, 22 Jul 2009 19:15:56 GMT
&gt; {
&gt;   &quot;items&quot;: [
&gt;     { &quot;id&quot;: &quot;O0000042&quot;, ... },
&gt;     { &quot;id&quot;: &quot;O0000043&quot;, ... }
&gt;   ]
&gt; }

&lt; PUT /block/O0000042
&lt; If-Unmodified-Since: Wed, 22 Jul 2009 19:15:56 GMT
&lt; { &quot;id&quot;: &quot;O0000042&quot;, ... }

&gt; HTTP/1.1 204 No Content</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, if there was an update since the <a href="#get"><code>GET</code></a> and the entities last modified is
later than the given date:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http">&gt; HTTP/1.1 412 Precondition failed</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_pros_5"><a class="link" href="#_pros_5">Pros</a></h5>
<div class="ulist">
<ul>
<li>
<p>Well established approach that has been working for a long time</p>
</li>
<li>
<p>No interference with the business objects; the locking is done via HTTP
headers only</p>
</li>
<li>
<p>Very easy to implement</p>
</li>
<li>
<p>No additional request needed when updating an entity of a search endpoint
result</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_cons_5"><a class="link" href="#_cons_5">Cons</a></h5>
<div class="ulist">
<ul>
<li>
<p>If a client communicates with two different instances and their clocks are
not perfectly in sync, the locking could potentially fail</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_conclusion"><a class="link" href="#_conclusion">Conclusion</a></h4>
<div class="paragraph">
<p>We suggest to either use the <em><a href="https://tools.ietf.org/html/rfc7232#section-2.3"><code>ETag</code></a> in result entities</em> or <em><a href="https://tools.ietf.org/html/rfc7232#section-2.2"><code>Last-Modified</code></a>
/ <a href="https://tools.ietf.org/html/rfc7232#section-3.4"><code>If-Unmodified-Since</code></a></em> approach.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-changelog"><a class="link" href="#appendix-changelog">Appendix D: Changelog</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This change log only contains major changes made after October 2021.</p>
</div>
<div class="paragraph">
<p>Non-major changes are editorial-only changes or minor changes of existing guidelines, e.g. adding new error code.
Major changes are changes that come with additional obligations, or even change an existing guideline obligation.
The latter changes are additionally labeled with "Rule Change" here.</p>
</div>
<div class="paragraph">
<p>To see a list of all changes, please have a look at the <a href="https://github.com/sailpoint-oss/sailpoint-api-guidelines/commits/main">commit list in Github</a>.</p>
</div>
<div class="paragraph">
<p>(Note that recent changes might be missing, as we update this list only occasionally,
 not with each pull request, to avoid merge commits.)</p>
</div>
<div class="sect2">
<h3 id="rule-changes"><a class="link" href="#rule-changes">Rule Changes</a></h3>
<!-- Adds rule id as a postfix to all rule titles -->
<script>
var ruleIdRegEx = /(\d)+/;
var h3headers = document.getElementsByTagName("h3");
for (var i = 0; i < h3headers.length; i++) {
    var header = h3headers[i];
    if (header.id && header.id.match(ruleIdRegEx)) {
        var a = header.getElementsByTagName("a")[0]
        a.innerHTML += " [" + header.id + "]";
    }
}
</script>

<!-- Add table of contents anchor and remove document title -->
<script>
var toc = document.getElementById('toc');
var div = document.createElement('div');
div.id = 'table-of-contents';
toc.parentNode.replaceChild(div, toc);
div.appendChild(toc);
var ul = toc.childNodes[3];
ul.removeChild(ul.childNodes[1]);
</script>

<!-- Adds sidebar navigation -->
<script>
var header = document.getElementById('header');
var nav = document.createElement('div');
nav.id = 'toc';
nav.classList.add('toc2');
var title = document.createElement('div');
title.id = 'toctitle';

var link = document.createElement('a');
link.innerText = 'API Guidelines';
link.href = '#';

title.append(link);
nav.append(title);

var ul = document.createElement('ul');
ul.classList.add('sectlevel1');

var link = document.createElement('a');
link.innerHTML = 'Table of Contents';
link.href = '#table-of-contents';
li = document.createElement('li');
li.append(link);
ul.append(li);

var link, li;
var h2headers = document.getElementsByTagName('h2');
for (var i = 1; i < h2headers.length; i++) {
    var a = h2headers[i].getElementsByTagName("a")[0];
    if (a !== undefined) {
        link = document.createElement('a');
        link.innerHTML = a.innerHTML;
        link.href = a.hash;
        li = document.createElement('li');
        li.append(link);
        ul.append(li);
    }
}

document.body.classList.add('toc2');
document.body.classList.add('toc-left');
nav.append(ul);
header.prepend(nav);
</script>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Per definition of R.Fielding REST APIs have to support HATEOAS (maturity level 3). Our guidelines do not strongly advocate for full REST compliance, but limited hypermedia usage, e.g. for pagination (see <a href="#hypermedia">Hypermedia</a>). However, we still use the term "RESTful API", due to the absence of an alternative established term and to keep it like the very majority of web service industry that also use the term for their REST approximations — in fact, in today&#8217;s industry full HATEOAS compliant APIs are a very rare exception.
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-09-12 17:00:33 UTC
</div>
</div>
</body>
</html>